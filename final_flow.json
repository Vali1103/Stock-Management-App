[
    {
        "id": "25657c4490a3e7b9",
        "type": "tab",
        "label": "Database",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2385876056a3151a",
        "type": "tab",
        "label": "Echipamente_UI_Control",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "142b8614bd48c69b",
        "type": "tab",
        "label": "CSS ",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e19c6a443441a8be",
        "type": "tab",
        "label": "Module",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8baf711668c5d418",
        "type": "tab",
        "label": "Echipamente",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3ebe60f6358ce5c6",
        "type": "tab",
        "label": "Loguri",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7f0d891124837be9",
        "type": "tab",
        "label": "Login",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "add6e96a04eba584",
        "type": "tab",
        "label": "Module Search",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5e7fb4957445ae23",
        "type": "tab",
        "label": "Search istoric",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a2dc2a2e2614df14",
        "type": "tab",
        "label": "Search Echipamente",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "12d4e656c7354f96",
        "type": "group",
        "z": "25657c4490a3e7b9",
        "name": "echipamente",
        "style": {
            "label": true
        },
        "nodes": [
            "23813bc64969967a",
            "709042a00a7ee43a",
            "ae4aea1a84f2febd",
            "24fadac84247e94e",
            "772dbc7062c611cf",
            "065eec840d0114f5",
            "05e03fe95e6a39f4",
            "c7374a6b5acde270",
            "0e46fcc225fbc819",
            "6e665e0587a7cda3",
            "ab937088c13e49d2",
            "b1fd31cbd546b05f",
            "031f8c7e53cd6fa8",
            "168611263ba7634c",
            "53f2e04b918d53bb",
            "f3e1e23c5d17e8d6",
            "1c9034b058e2a481",
            "5f22e8a58fc44e99",
            "787832d533b36461",
            "553e29af9e1e822b",
            "32c4af444b2fe267",
            "96c2743824f21630",
            "451d7a554d798883",
            "e2f21a99a94a352f"
        ],
        "x": 74,
        "y": 239,
        "w": 1332,
        "h": 542
    },
    {
        "id": "5dd3416c79a8cfa6",
        "type": "group",
        "z": "25657c4490a3e7b9",
        "name": "Module",
        "style": {
            "label": true
        },
        "nodes": [
            "9ccd12dc38029fac",
            "d3cc5d86b2263e38",
            "c66375e88b334cfb",
            "c393388178e91851",
            "0aa2396d083d95b0",
            "5cd8a9fcf85dd1dc",
            "5407f49ef20b8d16",
            "2f8d40e9cd65e0a5",
            "0ae403e098d7e2b5",
            "6b20d62cccc31571",
            "71a0d4a25244c5bd",
            "0d4760701e7a41ab",
            "18c2d660335e5cbb",
            "88c371b4a90c7ca6",
            "c1189c60e8d58d4d",
            "f0ba4b7cf8c28247",
            "ac050a0489fe5b3d",
            "5dcaac98a60e132f",
            "8cdeae38720d7999",
            "b660e6ca854919c9",
            "d15d8c3fdc56c847",
            "6fcaa409d61df882",
            "3af2bebec6df59a8"
        ],
        "x": 84,
        "y": 799,
        "w": 1202,
        "h": 522
    },
    {
        "id": "a824bee667659674",
        "type": "group",
        "z": "25657c4490a3e7b9",
        "name": "Loguri",
        "style": {
            "label": true
        },
        "nodes": [
            "a2ca89dc37c2424b",
            "ba863afebc83262c",
            "9149987bf5781177",
            "417eb7a242f5eb92",
            "c7e65380560d43ee",
            "e67e23d58c5e1c4e",
            "28e5e03de646bda9",
            "a0eef3309e0ed6e9",
            "41970306d5cb777c",
            "20bb0a96ac105306",
            "86dd1f22d520fe1a",
            "4f521d0dc4c1b1f4",
            "96b4d4a2703545c1",
            "21a1c26cb321713c",
            "8e7b211abf7edb0f",
            "9eebfdb444e01814",
            "1ca94eba05128d56",
            "1ea87f08e4f6dea0",
            "126ce7bed842e43d",
            "1c064de18d7bd529",
            "a46e5825241a3037",
            "54cd8fc00a5c9ca3",
            "989ca1efe7e84816",
            "486b0b4ad3a85858",
            "9b481b26f677e959",
            "3b909713d04dd4c4",
            "12b0c2e0226ded6c"
        ],
        "x": 54,
        "y": 2139,
        "w": 1042,
        "h": 602
    },
    {
        "id": "0b1bc2c0407b45f4",
        "type": "group",
        "z": "7f0d891124837be9",
        "name": "conectare",
        "style": {
            "label": true
        },
        "nodes": [
            "f1db033a5afec1df",
            "cfbda8c87763c0d4",
            "298c96b42d35572d",
            "d7aaf30331c1aed2"
        ],
        "x": 194,
        "y": 99,
        "w": 392,
        "h": 122
    },
    {
        "id": "99aa4c086849736b",
        "type": "group",
        "z": "7f0d891124837be9",
        "name": "Sign out",
        "style": {
            "label": true
        },
        "nodes": [
            "05d22782d26394eb",
            "54723a73ecc3fb1b",
            "315966a1b7913f63",
            "5dd0273dfcac1efe",
            "25189cac343b4f86",
            "44cc5c61a5ee50a2",
            "81a7612cf5e64f80",
            "bda1e6de04377ac9",
            "103c1a30396160a3",
            "cf700ab64b0590b2",
            "bc1c2dcb87d6c02e",
            "e025620aa2c9bb49",
            "efe58d438f5285d9",
            "e0dee88c94aff1c0",
            "46471fa3b45a40a7",
            "55c2f0732a37e83a"
        ],
        "x": 174,
        "y": 319,
        "w": 962,
        "h": 202
    },
    {
        "id": "7fb0da83723f5e69",
        "type": "group",
        "z": "142b8614bd48c69b",
        "name": "Module",
        "style": {
            "label": true
        },
        "nodes": [
            "0de060138f0b76d1",
            "f4fdd5c8061a68e8",
            "2be33142c30f1e56",
            "ed4ea203e018ed27",
            "5064a5bb497f32fd"
        ],
        "x": 514,
        "y": 259,
        "w": 292,
        "h": 242
    },
    {
        "id": "a2cc3748eccb7ce0",
        "type": "group",
        "z": "142b8614bd48c69b",
        "name": "Echipamente",
        "style": {
            "label": true
        },
        "nodes": [
            "3691e6d0cb0c032b",
            "3e2689f70f84ed20",
            "a7652477d762de69",
            "57db05e0d97d3366",
            "80e81a1ce0d779cd"
        ],
        "x": 234,
        "y": 379,
        "w": 232,
        "h": 242
    },
    {
        "id": "9fa3b9b777e117fe",
        "type": "group",
        "z": "142b8614bd48c69b",
        "name": "Login",
        "style": {
            "label": true
        },
        "nodes": [
            "4887185e8cddccee",
            "c0f03530fcbe1d26",
            "3e39fbc8fd5bc892",
            "4a3437527e769185",
            "5edb9f1a9b3814e8",
            "9b8eca2f595b1479"
        ],
        "x": 254,
        "y": 679,
        "w": 212,
        "h": 282
    },
    {
        "id": "f312eb0c01997639",
        "type": "group",
        "z": "7f0d891124837be9",
        "name": "SignIn / Register",
        "style": {
            "label": true
        },
        "nodes": [
            "263d998af1a240f1",
            "e238b762e6b7af1f",
            "950cedd2ce816442",
            "3d9dc77f60762111",
            "02e9aea0f6a5b6e0",
            "dd70a003053acb18",
            "1907663ac295973c",
            "597cd7c8030e86fa",
            "8afde77105b829d0",
            "85785a41366fa57f"
        ],
        "x": 614,
        "y": 99,
        "w": 592,
        "h": 202
    },
    {
        "id": "4ce29f19b748577b",
        "type": "group",
        "z": "25657c4490a3e7b9",
        "name": "Accounts",
        "style": {
            "label": true
        },
        "nodes": [
            "7a040e870f936767",
            "60a3e795089f6c72",
            "0b3bd29dce73a2be",
            "e69b9801f8c399c1",
            "c7390aaba1943820",
            "4bbb3a935f408c8f",
            "6cfbf53a2ede23cf",
            "424b851a936d2217",
            "f846777e1afc37d9",
            "50534faf348abdee",
            "c577399870faa8b7",
            "85bec4449c5b3af4",
            "f5d6b126378a4dd5",
            "e34dfca26d55a5a0",
            "c8d7177f4092e3a9",
            "b88488c9374e573d",
            "02236e4ff24896e3",
            "4f33997e0d6e5745",
            "9531ab9683de150a",
            "b97e17621563fe74",
            "14d142cfbcab4944",
            "edb85d685b5a3b0b",
            "3bb8a999fe5f2a29",
            "a009b8ec72c7c82e",
            "120a46c7790d74a5",
            "0cd62115ebc29fbd",
            "32564a0b5c4776c7",
            "c5886cce7981c958",
            "f3486e7b568863c3",
            "12bee32ce9771105",
            "401b127a4c7d0d70",
            "f75b56ab95016a1d",
            "34c9e9164a89e099",
            "55cb05fb37c29841"
        ],
        "x": 74,
        "y": 1338,
        "w": 1772,
        "h": 638
    },
    {
        "id": "66bee6a70ba8456d",
        "type": "group",
        "z": "7f0d891124837be9",
        "name": "Afisare toolbar Logare",
        "style": {
            "label": true
        },
        "nodes": [
            "cdcd7cedaa6c2e57",
            "19912c5b0d037805",
            "2bf69433b9210cc1",
            "65f4b09946c30545",
            "977abe417233596d",
            "257a5095481f8106",
            "e2d1e6c0ebdae3a7",
            "f9da4ebe7edce9dd",
            "2bc3728aca041204",
            "66ec280695f56a08",
            "314c7e667d3144fd",
            "fad0a931d76813df",
            "d827a1e7d4078c9a",
            "45428053cfeb7764"
        ],
        "x": 194,
        "y": 539,
        "w": 1032,
        "h": 202
    },
    {
        "id": "b3f582b6574ca011",
        "type": "sqlitedb",
        "db": "RawMaterials",
        "mode": "RWC"
    },
    {
        "id": "2118af614f85e5db",
        "type": "sqlitedb",
        "db": "Accounts",
        "mode": "RWC"
    },
    {
        "id": "f863fddcd6e15980",
        "type": "sqlitedb",
        "db": "Istoric",
        "mode": "RWC"
    },
    {
        "id": "80d1777a55d88a42",
        "type": "sqlitedb",
        "db": "/data/static/database.db",
        "mode": "RWC"
    },
    {
        "id": "6c8a39079ebb2521",
        "type": "sqlitedb",
        "db": "Echipamente",
        "mode": "RWC"
    },
    {
        "id": "615322bda99563d0",
        "type": "sqlitedb",
        "db": "Accounts",
        "mode": "RWC"
    },
    {
        "id": "30b94a9dba3f35f0",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#000000",
                "baseFont": "Verdana,Verdana,Geneva,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#000000",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#47464e",
                    "edited": true
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#c2c0ce",
                    "edited": true
                },
                "group-textColor": {
                    "value": "#262626",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#c2c0ce",
                    "edited": true
                },
                "group-backgroundColor": {
                    "value": "#c2c0ce",
                    "edited": true
                },
                "widget-textColor": {
                    "value": "#000000",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#6f9f50",
                    "edited": true
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": true
                },
                "base-font": {
                    "value": "Verdana,Verdana,Geneva,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "2026c46c9711c50b",
        "type": "ui_tab",
        "name": "Echipamente",
        "icon": "fa-server ",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ed4331ca3f7d4235",
        "type": "ui_tab",
        "name": "Module",
        "icon": "fa-wrench ",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d94e475f448ca7f5",
        "type": "ui_tab",
        "name": "Login",
        "icon": "fa-user-o",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "05abb968e8eef7ac",
        "type": "ui_tab",
        "name": "Istoric",
        "icon": "fa-history",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "771f8c2f253ea5e4",
        "type": "ui_group",
        "name": "Table",
        "tab": "2026c46c9711c50b",
        "order": 2,
        "disp": false,
        "width": 22,
        "collapse": false,
        "className": ""
    },
    {
        "id": "54219a3d7548bac5",
        "type": "ui_group",
        "name": "SelectedRow",
        "tab": "fd2ca8fd9dd8234d",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d60fb12b5e131bc6",
        "type": "ui_group",
        "name": "AddRow",
        "tab": "2026c46c9711c50b",
        "order": 1,
        "disp": false,
        "width": 5,
        "collapse": false,
        "className": ""
    },
    {
        "id": "c6f201ca8569aef1",
        "type": "ui_group",
        "name": "Default",
        "tab": "ed4331ca3f7d4235",
        "order": 1,
        "disp": true,
        "width": 2,
        "collapse": false
    },
    {
        "id": "a859fc01681d9b0d",
        "type": "ui_group",
        "name": "Search",
        "tab": "2026c46c9711c50b",
        "order": 4,
        "disp": true,
        "width": 13,
        "collapse": false,
        "className": ""
    },
    {
        "id": "dc5ad2cffc4b5a3c",
        "type": "ui_group",
        "name": "Update",
        "tab": "2026c46c9711c50b",
        "order": 4,
        "disp": false,
        "width": 5,
        "collapse": false,
        "className": ""
    },
    {
        "id": "c8c92d2f9135f69d",
        "type": "ui_group",
        "name": "Hacks",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "08cbb11824c293e0",
        "type": "ui_group",
        "name": "Info",
        "tab": "2026c46c9711c50b",
        "order": 5,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4bef83fe952b243a",
        "type": "ui_group",
        "name": "Operatii",
        "tab": "2026c46c9711c50b",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7f9380cd09d9f4cb",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "64a1d2a55a5f2010",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "09fb30b629e51b73",
        "type": "ui_group",
        "name": "Table",
        "tab": "ed4331ca3f7d4235",
        "order": 2,
        "disp": false,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d96fd753ada9b4b9",
        "type": "ui_group",
        "name": "AddRow",
        "tab": "ed4331ca3f7d4235",
        "order": 3,
        "disp": false,
        "width": 5,
        "collapse": false,
        "className": ""
    },
    {
        "id": "ae4b881991a919f1",
        "type": "ui_group",
        "name": "Update",
        "tab": "ed4331ca3f7d4235",
        "order": 4,
        "disp": false,
        "width": 5,
        "collapse": false,
        "className": ""
    },
    {
        "id": "8b4b273e146c1f63",
        "type": "ui_group",
        "name": "form",
        "tab": "d94e475f448ca7f5",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1953fca633441d6c",
        "type": "ui_group",
        "name": "LogOut",
        "tab": "d94e475f448ca7f5",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ccd373741b2a4358",
        "type": "ui_group",
        "name": "SignIn",
        "tab": "d94e475f448ca7f5",
        "order": 4,
        "disp": false,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "1fe46301c9c7358b",
        "type": "ui_group",
        "name": "Group",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "898bcc13464b3ef5",
        "type": "ui_group",
        "name": "Logo",
        "tab": "d94e475f448ca7f5",
        "order": 4,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c1e6241b0c676cae",
        "type": "ui_group",
        "name": "test",
        "tab": "d94e475f448ca7f5",
        "order": 5,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c31fe414c62212f9",
        "type": "ui_group",
        "name": "History",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e80a97623b98a46b",
        "type": "ui_group",
        "name": "Table",
        "tab": "05abb968e8eef7ac",
        "order": 1,
        "disp": false,
        "width": 22,
        "collapse": false,
        "className": ""
    },
    {
        "id": "bf7714e2d7fd62f1",
        "type": "ui_group",
        "name": "Logo",
        "tab": "2026c46c9711c50b",
        "order": 7,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e22a60994b09fb20",
        "type": "ui_spacer",
        "z": "5e7fb4957445ae23",
        "name": "spacer",
        "group": "e80a97623b98a46b",
        "order": 1,
        "width": 4,
        "height": 1
    },
    {
        "id": "60923a0508cf961b",
        "type": "ui_spacer",
        "z": "5e7fb4957445ae23",
        "name": "spacer",
        "group": "e80a97623b98a46b",
        "order": 4,
        "width": 6,
        "height": 1
    },
    {
        "id": "920f57170abf264e",
        "type": "ui_spacer",
        "z": "5e7fb4957445ae23",
        "name": "spacer",
        "group": "e80a97623b98a46b",
        "order": 6,
        "width": 22,
        "height": 1
    },
    {
        "id": "3dacb545c21489ad",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "ccd373741b2a4358",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "4f5e3fadf62856da",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "ccd373741b2a4358",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "ef742ca0dd2d9b31",
        "type": "ui_spacer",
        "z": "e19c6a443441a8be",
        "name": "spacer",
        "group": "f14c021cb873a380",
        "order": 2,
        "width": 2,
        "height": 1
    },
    {
        "id": "e309c7bb6a8a1fcc",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "771f8c2f253ea5e4",
        "order": 3,
        "width": 2,
        "height": 1
    },
    {
        "id": "472fa245c220e2ff",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "771f8c2f253ea5e4",
        "order": 7,
        "width": 4,
        "height": 1
    },
    {
        "id": "1b5d89a06521e38e",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "09fb30b629e51b73",
        "order": 3,
        "width": 8,
        "height": 1
    },
    {
        "id": "c4bee45ceff51255",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "09fb30b629e51b73",
        "order": 6,
        "width": 2,
        "height": 1
    },
    {
        "id": "e92e495db588be29",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "09fb30b629e51b73",
        "order": 9,
        "width": 2,
        "height": 1
    },
    {
        "id": "2bd434c03cc3b95d",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "09fb30b629e51b73",
        "order": 11,
        "width": 10,
        "height": 1
    },
    {
        "id": "8b1e5fad79a5e842",
        "type": "ui_spacer",
        "z": "142b8614bd48c69b",
        "name": "spacer",
        "group": "ae4b881991a919f1",
        "order": 4,
        "width": 1,
        "height": 1
    },
    {
        "id": "23813bc64969967a",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Echipamente",
        "x": 510,
        "y": 280,
        "wires": [
            [
                "709042a00a7ee43a"
            ]
        ]
    },
    {
        "id": "709042a00a7ee43a",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "rezultat creare tabela echipamente",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 760,
        "y": 280,
        "wires": []
    },
    {
        "id": "ae4aea1a84f2febd",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE Echipamente (\n    nume TEXT,\n    cod_identificare TEXT NOT NULL,\n    cantitate INTEGER NOT NULL,\n    size TEXT,\n    weight TEXT,\n    includes TEXT,\n    info TEXT,\n    pret INTEGER NOT NULL,\n    pret_total INTEGER\n);\n",
        "output": "str",
        "x": 340,
        "y": 280,
        "wires": [
            [
                "23813bc64969967a"
            ]
        ]
    },
    {
        "id": "24fadac84247e94e",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 280,
        "wires": [
            [
                "ae4aea1a84f2febd"
            ]
        ]
    },
    {
        "id": "772dbc7062c611cf",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Read JSON File",
        "props": [
            {
                "p": "filename",
                "v": "/data/static/ResultV.json",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 200,
        "y": 420,
        "wires": [
            [
                "065eec840d0114f5"
            ]
        ]
    },
    {
        "id": "065eec840d0114f5",
        "type": "file in",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 400,
        "y": 420,
        "wires": [
            [
                "05e03fe95e6a39f4"
            ]
        ]
    },
    {
        "id": "05e03fe95e6a39f4",
        "type": "json",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "",
        "property": "payload",
        "action": "parse",
        "pretty": false,
        "x": 590,
        "y": 420,
        "wires": [
            [
                "c7374a6b5acde270"
            ]
        ]
    },
    {
        "id": "c7374a6b5acde270",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Procesare piese",
        "func": "\nvar payload;\ntry {\n    payload = JSON.parse(msg.payload);\n} catch (e) {\n    msg.payload = \"Eroare la parsarea JSON-ului: \" + e.message;\n    return msg;\n}\n\nvar piese = payload.piese;\n\nif (piese && Array.isArray(piese)) {\n    var newMsgs = piese.map(function (piesa) {\n        return { payload: piesa };\n    });\n    return [newMsgs];\n} else {\n    msg.payload = \"NUUU\";\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 420,
        "wires": [
            [
                "ab937088c13e49d2"
            ]
        ]
    },
    {
        "id": "0e46fcc225fbc819",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 980,
        "y": 500,
        "wires": []
    },
    {
        "id": "6e665e0587a7cda3",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 490,
        "y": 500,
        "wires": [
            [
                "b1fd31cbd546b05f"
            ]
        ]
    },
    {
        "id": "ab937088c13e49d2",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Introducere in baza de date",
        "func": "\nmsg.topic = \"INSERT INTO Echipamente (cod_identificare, cantitate, info, pret, pret_total) VALUES ($val1, $val2, $val3, $val4, $val5)\";\nvar pret_total = msg.payload.pret * msg.payload.cantitate;\nmsg.payload = [msg.payload.cod_identificare, msg.payload.cantitate, msg.payload.descriere, msg.payload.pret, pret_total];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 500,
        "wires": [
            [
                "6e665e0587a7cda3"
            ]
        ]
    },
    {
        "id": "b1fd31cbd546b05f",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 640,
        "y": 500,
        "wires": [
            [
                "031f8c7e53cd6fa8"
            ]
        ]
    },
    {
        "id": "031f8c7e53cd6fa8",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 790,
        "y": 500,
        "wires": [
            [
                "0e46fcc225fbc819"
            ]
        ]
    },
    {
        "id": "168611263ba7634c",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Delete",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 340,
        "wires": [
            [
                "53f2e04b918d53bb"
            ]
        ]
    },
    {
        "id": "53f2e04b918d53bb",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE IF EXISTS Echipamente;",
        "output": "str",
        "x": 340,
        "y": 340,
        "wires": [
            [
                "23813bc64969967a"
            ]
        ]
    },
    {
        "id": "f3e1e23c5d17e8d6",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 480,
        "y": 580,
        "wires": [
            [
                "1c9034b058e2a481"
            ]
        ]
    },
    {
        "id": "1c9034b058e2a481",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 631,
        "y": 579,
        "wires": [
            [
                "031f8c7e53cd6fa8"
            ]
        ]
    },
    {
        "id": "5f22e8a58fc44e99",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 790,
        "y": 680,
        "wires": [
            [
                "787832d533b36461"
            ]
        ]
    },
    {
        "id": "787832d533b36461",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 940,
        "y": 680,
        "wires": [
            [
                "553e29af9e1e822b"
            ]
        ]
    },
    {
        "id": "553e29af9e1e822b",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente ",
        "x": 1090,
        "y": 680,
        "wires": [
            [
                "451d7a554d798883"
            ]
        ]
    },
    {
        "id": "32c4af444b2fe267",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Stergere element dupa nume, cod_identificare",
        "func": "msg.topic = \"DELETE FROM Echipamente WHERE cod_identificare = $val1 AND nume = $val2 AND info = $val3;\"\nmsg.payload = [msg.payload.cod_identificare, msg.payload.nume, msg.payload.info];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 680,
        "wires": [
            [
                "5f22e8a58fc44e99"
            ]
        ]
    },
    {
        "id": "96c2743824f21630",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Sterge element",
        "links": [
            "3d52794f514853e7",
            "17882b0c663c7ac3",
            "1cd82a83d71e4426"
        ],
        "x": 215,
        "y": 680,
        "wires": [
            [
                "32c4af444b2fe267"
            ]
        ]
    },
    {
        "id": "451d7a554d798883",
        "type": "link out",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "Rezultat",
        "mode": "link",
        "links": [
            "16a23dc3cd101482"
        ],
        "x": 1195,
        "y": 740,
        "wires": []
    },
    {
        "id": "e2f21a99a94a352f",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "12d4e656c7354f96",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 680,
        "wires": []
    },
    {
        "id": "9ccd12dc38029fac",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 840,
        "wires": [
            [
                "c393388178e91851"
            ]
        ]
    },
    {
        "id": "d3cc5d86b2263e38",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Delete",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 900,
        "wires": [
            [
                "c66375e88b334cfb"
            ]
        ]
    },
    {
        "id": "c66375e88b334cfb",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE IF EXISTS RawMaterials;",
        "output": "str",
        "x": 380,
        "y": 900,
        "wires": [
            [
                "0aa2396d083d95b0"
            ]
        ]
    },
    {
        "id": "c393388178e91851",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE RawMaterials (\n    cod_identificare TEXT,\n    info TEXT,\n    cantitate INTEGER,\n    pret INTEGER,\n    pret_total INTEGER,\n    categorie TEXT\n);\n",
        "output": "str",
        "x": 380,
        "y": 840,
        "wires": [
            [
                "0aa2396d083d95b0"
            ]
        ]
    },
    {
        "id": "0aa2396d083d95b0",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "RawMaterials",
        "x": 560,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "5cd8a9fcf85dd1dc",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Read JSON File",
        "props": [
            {
                "p": "filename",
                "v": "/data/static/Result2.json",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 240,
        "y": 980,
        "wires": [
            [
                "5407f49ef20b8d16"
            ]
        ]
    },
    {
        "id": "5407f49ef20b8d16",
        "type": "file in",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 460,
        "y": 980,
        "wires": [
            [
                "2f8d40e9cd65e0a5"
            ]
        ]
    },
    {
        "id": "2f8d40e9cd65e0a5",
        "type": "json",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "",
        "property": "payload",
        "action": "parse",
        "pretty": false,
        "x": 630,
        "y": 980,
        "wires": [
            [
                "0ae403e098d7e2b5"
            ]
        ]
    },
    {
        "id": "0ae403e098d7e2b5",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Procesare piese",
        "func": "var payloadText = msg.payload;\n\n// Înlocuiește toate aparițiile lui NaN cu valori corespunzătoare\npayloadText = payloadText.replace(/\\\"pret\\\": NaN/g, '\"pret\": 0');\npayloadText = payloadText.replace(/\\\"pret_total\\\": NaN/g, '\"pret_total\": 0');\npayloadText = payloadText.replace(/NaN/g, '\"\"'); // Inlocuieste NaN pentru stringuri si alte valori\n\nvar payload;\ntry {\n    payload = JSON.parse(payloadText);\n} catch (e) {\n    msg.payload = \"Eroare la parsarea JSON-ului: \" + e.message;\n    return msg;\n}\n\nvar piese = payload.piese;\n\nif (piese && Array.isArray(piese)) {\n    var newMsgs = piese.map(function (piesa) {\n        // Înlocuiește NaN și valori nule manual în fiecare obiect\n        piesa.cod_identificare = piesa.cod_identificare || \"\";\n        piesa.descriere = piesa.descriere || \"\";\n        piesa.categorie = piesa.categorie || \"\";\n        piesa.cantitate = piesa.cantitate || 0;\n        piesa.pret = piesa.pret || 0;\n        piesa.pret_total = piesa.pret_total || 0;\n        \n        return { payload: piesa };\n    });\n    return [newMsgs];\n} else {\n    msg.payload = \"NUUU\";\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 980,
        "wires": [
            [
                "0d4760701e7a41ab"
            ]
        ]
    },
    {
        "id": "6b20d62cccc31571",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 1060,
        "wires": []
    },
    {
        "id": "71a0d4a25244c5bd",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 520,
        "y": 1060,
        "wires": [
            [
                "18c2d660335e5cbb"
            ]
        ]
    },
    {
        "id": "0d4760701e7a41ab",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Introducere in baza de date",
        "func": "\nmsg.topic = \"INSERT INTO RawMaterials (cod_identificare, info, cantitate, pret, pret_total, categorie) VALUES ($val1, $val2, $val3, $val4, $val5, $val6)\";\n\nmsg.payload = [msg.payload.cod_identificare, msg.payload.descriere, msg.payload.cantitate, msg.payload.pret, msg.payload.pret_total, msg.payload.categorie];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1060,
        "wires": [
            [
                "71a0d4a25244c5bd"
            ]
        ]
    },
    {
        "id": "18c2d660335e5cbb",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM RawMaterials;",
        "output": "str",
        "x": 680,
        "y": 1060,
        "wires": [
            [
                "88c371b4a90c7ca6"
            ]
        ]
    },
    {
        "id": "88c371b4a90c7ca6",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 860,
        "y": 1060,
        "wires": [
            [
                "6b20d62cccc31571"
            ]
        ]
    },
    {
        "id": "c1189c60e8d58d4d",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 520,
        "y": 1140,
        "wires": [
            [
                "f0ba4b7cf8c28247"
            ]
        ]
    },
    {
        "id": "f0ba4b7cf8c28247",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM RawMaterials;",
        "output": "str",
        "x": 671,
        "y": 1139,
        "wires": [
            [
                "88c371b4a90c7ca6"
            ]
        ]
    },
    {
        "id": "ac050a0489fe5b3d",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 640,
        "y": 1220,
        "wires": [
            [
                "3af2bebec6df59a8"
            ]
        ]
    },
    {
        "id": "5dcaac98a60e132f",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 980,
        "y": 1220,
        "wires": [
            [
                "d15d8c3fdc56c847"
            ]
        ]
    },
    {
        "id": "8cdeae38720d7999",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Stergere element dupa nume, cod_identificare",
        "func": "msg.topic = \"DELETE FROM RawMaterials WHERE cod_identificare = $val1 AND categorie = $val2 AND info = $val3\";\nmsg.payload = [msg.payload.cod_identificare, msg.payload.categorie, msg.payload.info];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 1220,
        "wires": [
            [
                "ac050a0489fe5b3d"
            ]
        ]
    },
    {
        "id": "b660e6ca854919c9",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "Sterge element raw",
        "links": [
            "d3a86253d6285ee7"
        ],
        "x": 125,
        "y": 1220,
        "wires": [
            [
                "8cdeae38720d7999"
            ]
        ]
    },
    {
        "id": "d15d8c3fdc56c847",
        "type": "link out",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "RawMaterials",
        "mode": "link",
        "links": [
            "54fa715f0d3707aa"
        ],
        "x": 1095,
        "y": 1280,
        "wires": []
    },
    {
        "id": "6fcaa409d61df882",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1160,
        "y": 1220,
        "wires": []
    },
    {
        "id": "a2ca89dc37c2424b",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 2180,
        "wires": [
            [
                "417eb7a242f5eb92"
            ]
        ]
    },
    {
        "id": "ba863afebc83262c",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Delete",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 2240,
        "wires": [
            [
                "9149987bf5781177"
            ]
        ]
    },
    {
        "id": "9149987bf5781177",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE IF EXISTS Istoric;",
        "output": "str",
        "x": 340,
        "y": 2240,
        "wires": [
            [
                "c7e65380560d43ee"
            ]
        ]
    },
    {
        "id": "417eb7a242f5eb92",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE Istoric (\n    nume_util TEXT NOT NULL,\n    data TEXT NOT NULL,\n    actiunea TEXT NOT NULL,\n    produsul_nume TEXT NOT NULL,\n    produsul_cod_identificare TEXT\n);\n",
        "output": "str",
        "x": 340,
        "y": 2180,
        "wires": [
            [
                "c7e65380560d43ee"
            ]
        ]
    },
    {
        "id": "c7e65380560d43ee",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Istoric",
        "x": 490,
        "y": 2180,
        "wires": [
            []
        ]
    },
    {
        "id": "e67e23d58c5e1c4e",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 2320,
        "wires": []
    },
    {
        "id": "28e5e03de646bda9",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 510,
        "y": 2320,
        "wires": [
            [
                "e67e23d58c5e1c4e"
            ]
        ]
    },
    {
        "id": "a0eef3309e0ed6e9",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 2320,
        "wires": [
            [
                "41970306d5cb777c"
            ]
        ]
    },
    {
        "id": "41970306d5cb777c",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Istoric;",
        "output": "str",
        "x": 360,
        "y": 2320,
        "wires": [
            [
                "28e5e03de646bda9"
            ]
        ]
    },
    {
        "id": "20bb0a96ac105306",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 570,
        "y": 2560,
        "wires": [
            [
                "86dd1f22d520fe1a"
            ]
        ]
    },
    {
        "id": "86dd1f22d520fe1a",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Istoric;",
        "output": "str",
        "x": 760,
        "y": 2560,
        "wires": [
            [
                "4f521d0dc4c1b1f4"
            ]
        ]
    },
    {
        "id": "4f521d0dc4c1b1f4",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 890,
        "y": 2560,
        "wires": [
            [
                "8e7b211abf7edb0f"
            ]
        ]
    },
    {
        "id": "96b4d4a2703545c1",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Stergere element dupa nume, cod_identificare",
        "func": "msg.topic = \"DELETE FROM Istoric WHERE cod_identificare = $val1 OR nume = $val2;\"\nmsg.payload = [msg.payload.cod_identificare, msg.payload.nume];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2560,
        "wires": [
            [
                "20bb0a96ac105306"
            ]
        ]
    },
    {
        "id": "21a1c26cb321713c",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Sterge element",
        "links": [],
        "x": 95,
        "y": 2560,
        "wires": [
            [
                "96b4d4a2703545c1"
            ]
        ]
    },
    {
        "id": "8e7b211abf7edb0f",
        "type": "link out",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "rezultat istoric",
        "mode": "link",
        "links": [
            "70f0881b382bf288"
        ],
        "x": 1055,
        "y": 2620,
        "wires": []
    },
    {
        "id": "7a040e870f936767",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 1380,
        "wires": [
            [
                "e69b9801f8c399c1"
            ]
        ]
    },
    {
        "id": "60a3e795089f6c72",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Delete",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 270,
        "y": 1440,
        "wires": [
            [
                "0b3bd29dce73a2be"
            ]
        ]
    },
    {
        "id": "0b3bd29dce73a2be",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "DROP TABLE IF EXISTS Accounts;",
        "output": "str",
        "x": 420,
        "y": 1440,
        "wires": [
            [
                "c7390aaba1943820"
            ]
        ]
    },
    {
        "id": "e69b9801f8c399c1",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "CREATE TABLE Accounts (\n    nume TEXT NOT NULL,\n    parola TEXT NOT NULL\n);\n",
        "output": "str",
        "x": 420,
        "y": 1380,
        "wires": [
            [
                "c7390aaba1943820"
            ]
        ]
    },
    {
        "id": "c7390aaba1943820",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "mydb": "2118af614f85e5db",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Accounts",
        "x": 571,
        "y": 1379,
        "wires": [
            []
        ]
    },
    {
        "id": "4bbb3a935f408c8f",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 1600,
        "wires": []
    },
    {
        "id": "6cfbf53a2ede23cf",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Introducere in baza de date",
        "func": "\nmsg.topic = \"INSERT INTO Accounts (nume, parola) VALUES ($val1, $val2)\";\n\nmsg.payload = [msg.payload.nume, msg.payload.parola];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 371,
        "y": 1579,
        "wires": [
            [
                "02236e4ff24896e3"
            ]
        ]
    },
    {
        "id": "424b851a936d2217",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Accounts;",
        "output": "str",
        "x": 720,
        "y": 1600,
        "wires": [
            [
                "f846777e1afc37d9"
            ]
        ]
    },
    {
        "id": "f846777e1afc37d9",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "mydb": "2118af614f85e5db",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Accounts",
        "x": 880,
        "y": 1600,
        "wires": [
            [
                "4bbb3a935f408c8f"
            ]
        ]
    },
    {
        "id": "50534faf348abdee",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 560,
        "y": 1680,
        "wires": [
            [
                "c577399870faa8b7"
            ]
        ]
    },
    {
        "id": "c577399870faa8b7",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Accounts;",
        "output": "str",
        "x": 711,
        "y": 1679,
        "wires": [
            [
                "f846777e1afc37d9"
            ]
        ]
    },
    {
        "id": "85bec4449c5b3af4",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Accounts;",
        "output": "str",
        "x": 840,
        "y": 1760,
        "wires": [
            [
                "9531ab9683de150a"
            ]
        ]
    },
    {
        "id": "f5d6b126378a4dd5",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Stergere element dupa nume, parola",
        "func": "msg.topic = \"DELETE FROM Accounts WHERE nume = $val1 AND parola = $val2\";\nmsg.payload = [msg.payload.nume, msg.payload.parola];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 361,
        "y": 1759,
        "wires": [
            [
                "4f33997e0d6e5745"
            ]
        ]
    },
    {
        "id": "e34dfca26d55a5a0",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Sterge element",
        "links": [],
        "x": 115,
        "y": 1760,
        "wires": [
            [
                "f5d6b126378a4dd5"
            ]
        ]
    },
    {
        "id": "c8d7177f4092e3a9",
        "type": "link out",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Rezultat",
        "mode": "link",
        "links": [],
        "x": 1135,
        "y": 1820,
        "wires": []
    },
    {
        "id": "b88488c9374e573d",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1200,
        "y": 1760,
        "wires": []
    },
    {
        "id": "02236e4ff24896e3",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "mydb": "2118af614f85e5db",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Accounts",
        "x": 560,
        "y": 1600,
        "wires": [
            [
                "424b851a936d2217"
            ]
        ]
    },
    {
        "id": "4f33997e0d6e5745",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "mydb": "2118af614f85e5db",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Accounts",
        "x": 671,
        "y": 1759,
        "wires": [
            [
                "85bec4449c5b3af4"
            ]
        ]
    },
    {
        "id": "9531ab9683de150a",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "mydb": "2118af614f85e5db",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Accounts",
        "x": 980,
        "y": 1760,
        "wires": [
            [
                "c8d7177f4092e3a9"
            ]
        ]
    },
    {
        "id": "b97e17621563fe74",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"nume\":\"viorel\",\"parola\":\"asti0139\"}",
        "payloadType": "json",
        "x": 181,
        "y": 1539,
        "wires": [
            [
                "6cfbf53a2ede23cf"
            ]
        ]
    },
    {
        "id": "14d142cfbcab4944",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{         \"nume\": \"sabin\",         \"parola\": \"asti24\"     }",
        "payloadType": "json",
        "x": 181,
        "y": 1619,
        "wires": [
            [
                "6cfbf53a2ede23cf"
            ]
        ]
    },
    {
        "id": "edb85d685b5a3b0b",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "exista cont?",
        "links": [
            "298c96b42d35572d"
        ],
        "x": 115,
        "y": 1820,
        "wires": [
            [
                "3bb8a999fe5f2a29"
            ]
        ]
    },
    {
        "id": "3bb8a999fe5f2a29",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Cautare existenta",
        "func": "msg.topic = \"SELECT * FROM Accounts WHERE nume = $val1 AND parola = $val2\";\nglobal.set(\"Account_logged\", msg.payload.nume);\n\nmsg.payload = [msg.payload.nume, msg.payload.parola];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 301,
        "y": 1819,
        "wires": [
            [
                "a009b8ec72c7c82e"
            ]
        ]
    },
    {
        "id": "a009b8ec72c7c82e",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "mydb": "2118af614f85e5db",
        "sqlquery": "msg.topic",
        "sql": "",
        "name": "Accounts",
        "x": 491,
        "y": 1819,
        "wires": [
            [
                "c5886cce7981c958"
            ]
        ]
    },
    {
        "id": "120a46c7790d74a5",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Register person",
        "links": [
            "6d6977fbae582474"
        ],
        "x": 176,
        "y": 1579,
        "wires": [
            [
                "6cfbf53a2ede23cf"
            ]
        ]
    },
    {
        "id": "9eebfdb444e01814",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Adaugare istoric",
        "func": "msg.topic = \"INSERT INTO Istoric (nume_util, data, actiunea, produsul_nume, produsul_cod_identificare) VALUES ($val1, $val2, $val3, $val4, $val5)\";\nmsg.payload = [msg.payload.nume_util, msg.payload.data, msg.payload.actiunea, msg.payload.produsul_nume, msg.payload.produsul_cod_identificare];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 2640,
        "wires": [
            [
                "1ea87f08e4f6dea0"
            ]
        ]
    },
    {
        "id": "1ca94eba05128d56",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "adaugare actiune",
        "links": [
            "e89311fdb56f418e",
            "9cf788e4b0e234cb"
        ],
        "x": 155,
        "y": 2640,
        "wires": [
            [
                "9eebfdb444e01814"
            ]
        ]
    },
    {
        "id": "1ea87f08e4f6dea0",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 570,
        "y": 2640,
        "wires": [
            [
                "126ce7bed842e43d"
            ]
        ]
    },
    {
        "id": "126ce7bed842e43d",
        "type": "link out",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "afisare prin search",
        "mode": "link",
        "links": [
            "126a4931f8ba9bfc"
        ],
        "x": 725,
        "y": 2640,
        "wires": []
    },
    {
        "id": "1c064de18d7bd529",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Adaugare istoric",
        "func": "msg.topic = \"INSERT INTO Istoric (nume_util, data, actiunea, produsul_nume, produsul_cod_identificare) VALUES ($val1, $val2, $val3, $val4, $val5)\";\nmsg.payload = [msg.payload.nume_util, msg.payload.data, msg.payload.actiunea, \"Module\", msg.payload.produsul_cod_identificare];\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 2700,
        "wires": [
            [
                "1ea87f08e4f6dea0"
            ]
        ]
    },
    {
        "id": "a46e5825241a3037",
        "type": "link in",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "adaugare actiune2",
        "links": [
            "9f10d8e33c45c8dc",
            "2e1e75de7f727ea9"
        ],
        "x": 155,
        "y": 2700,
        "wires": [
            [
                "1c064de18d7bd529"
            ]
        ]
    },
    {
        "id": "0cd62115ebc29fbd",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"nume\":\"vali\",\"parola\":\"vali\"}",
        "payloadType": "json",
        "x": 170,
        "y": 1660,
        "wires": [
            [
                "6cfbf53a2ede23cf"
            ]
        ]
    },
    {
        "id": "32564a0b5c4776c7",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"nume\":\"adrian\",\"parola\":\"asti1954\"}",
        "payloadType": "json",
        "x": 190,
        "y": 1700,
        "wires": [
            [
                "6cfbf53a2ede23cf"
            ]
        ]
    },
    {
        "id": "c5886cce7981c958",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Cautare existenta",
        "func": "if (msg.payload.length > 0) {\n    msg.redirect = true;\n    global.set(\"logat\", 1);\n    global.set(\"log_in_time\", global.get(\"DATE\"));\n} else {\n    global.set(\"logat\", 0);\n    msg.redirect = false;\n    global.set(\"log_in_time\", \"0\");\n\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 1920,
        "wires": [
            [
                "f3486e7b568863c3"
            ]
        ]
    },
    {
        "id": "f3486e7b568863c3",
        "type": "switch",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Check Redirect",
        "property": "redirect",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 860,
        "y": 1920,
        "wires": [
            [
                "12bee32ce9771105"
            ],
            []
        ]
    },
    {
        "id": "12bee32ce9771105",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "function 26",
        "func": "if (msg.payload[0].nume === \"vali\") {\n    msg.pers = 1;\n    msg.port = 1882;\n} else if (msg.payload[0].nume === \"viorel\") {\n    msg.pers = 2;\n    msg.port = 1883;\n} else if (msg.payload[0].nume === \"adrian\") {\n    msg.pers = 3;\n    msg.port = 1884;\n} else if (msg.payload[0].nume === \"sabin\") {\n    msg.pers = 4;\n    msg.port = 1885;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 1920,
        "wires": [
            [
                "401b127a4c7d0d70"
            ]
        ]
    },
    {
        "id": "401b127a4c7d0d70",
        "type": "switch",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "property": "pers",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1210,
        "y": 1920,
        "wires": [
            [
                "f75b56ab95016a1d"
            ],
            [],
            [],
            []
        ]
    },
    {
        "id": "f75b56ab95016a1d",
        "type": "change",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"action\":\"redirect\",\"port\": msg.port}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1900,
        "wires": [
            [
                "34c9e9164a89e099"
            ]
        ]
    },
    {
        "id": "34c9e9164a89e099",
        "type": "ui_template",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "group": "8b4b273e146c1f63",
        "name": "Redirect after login",
        "order": 10,
        "width": 0,
        "height": 0,
        "format": "<script>\n(function(scope) {\n    scope.$watch('msg', function(msg) {\n        if (msg.payload.action === 'redirect') {\n            var port = msg.payload.port;\n            window.location.href = 'http://' + window.location.hostname + ':' + port + '/ui';\n        }\n    });\n})(scope);\n</script>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1550,
        "y": 1900,
        "wires": [
            [
                "55cb05fb37c29841"
            ]
        ]
    },
    {
        "id": "55cb05fb37c29841",
        "type": "http response",
        "z": "25657c4490a3e7b9",
        "g": "4ce29f19b748577b",
        "name": "Send Redirect",
        "statusCode": "",
        "headers": {},
        "x": 1740,
        "y": 1900,
        "wires": []
    },
    {
        "id": "54cd8fc00a5c9ca3",
        "type": "debug",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "afisare tabela",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 660,
        "y": 2400,
        "wires": []
    },
    {
        "id": "989ca1efe7e84816",
        "type": "sqlite",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 490,
        "y": 2400,
        "wires": [
            [
                "54cd8fc00a5c9ca3"
            ]
        ]
    },
    {
        "id": "486b0b4ad3a85858",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 2400,
        "wires": [
            [
                "9b481b26f677e959"
            ]
        ]
    },
    {
        "id": "9b481b26f677e959",
        "type": "template",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Istoric WHERE nume_util = 'vali';",
        "output": "str",
        "x": 340,
        "y": 2400,
        "wires": [
            [
                "989ca1efe7e84816"
            ]
        ]
    },
    {
        "id": "3b909713d04dd4c4",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "Stergere istoric vali",
        "func": "msg.topic = \"DELETE FROM Istoric WHERE nume_util = 'vali';\"\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 2460,
        "wires": [
            [
                "989ca1efe7e84816"
            ]
        ]
    },
    {
        "id": "12b0c2e0226ded6c",
        "type": "inject",
        "z": "25657c4490a3e7b9",
        "g": "a824bee667659674",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 2460,
        "wires": [
            [
                "3b909713d04dd4c4"
            ]
        ]
    },
    {
        "id": "3af2bebec6df59a8",
        "type": "function",
        "z": "25657c4490a3e7b9",
        "g": "5dd3416c79a8cfa6",
        "name": "function 30",
        "func": "var structura3 = global.get(\"structura\");\nif (structura3 == \"All\") {\n    msg.topic = \"SELECT * FROM RawMaterials\";\n} else {\n    msg.topic = \"SELECT * FROM RawMaterials WHERE categorie = $val1\";\n    msg.payload = [structura3];\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 1220,
        "wires": [
            [
                "5dcaac98a60e132f"
            ]
        ]
    },
    {
        "id": "b85ffb31b2806248",
        "type": "link in",
        "z": "2385876056a3151a",
        "name": "Echipamente_IN",
        "links": [
            "90bb6e31357da1bc",
            "a7b29350654bb081",
            "b4d188f88c6ac618",
            "245ca26cc1ccbdb6",
            "b8d50a49c32419c7",
            "13af7a54c893f50b",
            "05f0acc97d3ceb86",
            "a6b4201e48f63c37",
            "3d9dc77f60762111",
            "e2d1e6c0ebdae3a7",
            "315966a1b7913f63",
            "597cd7c8030e86fa",
            "dee54d720903919f",
            "a40bf18f24dad492",
            "81a7612cf5e64f80",
            "efe58d438f5285d9",
            "b8d526b859df7dac",
            "f0192ff097d2a1dd",
            "a2400f93912d4228",
            "70786baa9695bd59",
            "5ef73327bfebb591",
            "67946efcd344c44f",
            "410f56517a817a1f",
            "235f3ea7b8b8daa4",
            "f253818d9d6204e2"
        ],
        "x": 265,
        "y": 120,
        "wires": [
            [
                "10602b531575d16e"
            ]
        ]
    },
    {
        "id": "10602b531575d16e",
        "type": "ui_ui_control",
        "z": "2385876056a3151a",
        "name": "",
        "events": "all",
        "x": 1000,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "5d9576e01ba1a10e",
        "type": "ui_ui_control",
        "z": "2385876056a3151a",
        "name": "",
        "events": "all",
        "x": 440,
        "y": 240,
        "wires": [
            [
                "439cb8047598439a"
            ]
        ]
    },
    {
        "id": "439cb8047598439a",
        "type": "change",
        "z": "2385876056a3151a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Echipamente_AddRow\",\"Echipamente_SelectedRow\",\"Module_AddRow\",\"Module_Update\",\"Login_LogOut\",\"Login_SignIn\"],\"show\":[\"Login_form\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 240,
        "wires": [
            [
                "10602b531575d16e"
            ]
        ]
    },
    {
        "id": "8f9aa11eafb2f46c",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "1fe46301c9c7358b",
        "name": "Delete/No Buttons",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* Target the 'No' button in the Node-RED notification dialog */\n    .nr-dashboard-theme .md-cancel-button.md-button {\n        background-color: #f44336 !important;\n        /* Red background color */\n        color: white !important;\n        /* White text color */\n    }\n\n    .nr-dashboard-theme .md-cancel-button.md-button:hover {\n        background-color: #d32f2f !important;\n        /* Darker red on hover */\n    }\n\n    .nr-dashboard-theme .md-cancel-button.md-button:active {\n        background-color: #b71c1c !important;\n        /* Even darker red when active */\n    }\n</style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 350,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "315c5e137376ac96",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "1fe46301c9c7358b",
        "name": "Dismiss Rosu",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* Target the 'Dismiss' button using its aria-label attribute */\n    .md-raised.md-button.md-ink-ripple[aria-label='buttonDismiss'] {\n        background-color: #f44336 !important;\n        /* Red background color */\n        color: white !important;\n        /* White text color */\n        width: 236px;\n        height: 44px;\n        margin-left: 15px;\n    }\n\n    .md-raised.md-button.md-ink-ripple[aria-label='buttonDismiss']:hover {\n        background-color: #ad2a2a !important;\n        /* Darker red on hover */\n                width: 236px;\n                height: 44px;\n                margin-left: 15px;\n\n    }\n\n    .md-raised.md-button.md-ink-ripple[aria-label='buttonDismiss']:active {\n        background-color: #b71c1c !important;\n        /* Even darker red when active */\n                width: 236px;\n                height: 44px;\n                margin-left: 15px;\n\n    }\n</style>\n\n<div>\n    <!-- This div can be left empty or contain other content as needed -->\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 340,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "4a291f7190c2aad7",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "1fe46301c9c7358b",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* Ensure the md-card occupies the full width and remove any potential sidebar */\n    .nr-dashboard-form {\n        width: 100% !important;\n        /* Make sure the form occupies the full width */\n    }\n\n    /* Adjust layout of md-card if needed */\n    .nr-dashboard-form.md-card {\n        margin: 0;\n        /* Remove any margins */\n        padding: 0;\n        /* Remove any padding */\n        width: 100% !important;\n        /* Force full width */\n        max-width: none !important;\n        /* Remove any max-width constraints */\n    }\n\n    /* Adjust form element layout if needed */\n    .nr-dashboard-form .formElement {\n        width: 100% !important;\n        /* Ensure form elements occupy the full width */\n      \n        /* Optional: Add some space between form elements */\n    }\n\n    /* Style buttons if necessary */\n    .nr-dashboard-form .nr-dashboard-form-button {\n        width: 100% !important;\n        /* Ensure buttons occupy the full width */\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 320,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "dac749fe63d3de16",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "1fe46301c9c7358b",
        "name": "Butoane verzi",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .md-raised.md-button.md-ink-ripple {\n        background-color: #25a859 !important;\n        color: white !important;\n        padding-top: 4px !important;\n        padding-bottom: 2px !important;\n        line-height: 20px !important;\n        transition: transform 0.2s ease, width 0.2s ease, height 0.2s ease;\n    }\n\n    .md-raised.md-button.md-ink-ripple:hover {\n        background-color: #347536 !important;\n    }\n\n    .md-raised.md-button.md-ink-ripple:active {\n        background-color: #1a401b !important;\n        transform: scale(0.95);\n        width: 95%;\n        height: 95%;\n    }\n\n    .md-raised.nr-dashboard-form-button.md-button.md-ink-ripple[aria-label='SUBMIT']:active {\n        background-color: #b71c1c !important;\n        transform: scale(0.95);\n        width: 95%;\n        height: 95%;\n        margin-top: 5px;\n        margin-left: 22px;\n    }\n</style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 340,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "aedcc0c50e74e912",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "",
        "name": "CSS-tabele-patrate",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .nr-dashboard-theme .nr-dashboard-cardpanel {\n        background-color: #ffffff !important;\n        border-radius: 4px;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-cardpanel table {\n        background-color: #ffffff !important;\n    }\n\n\n    ui-card-panel>div.nr-dashboard-cardpanel button {\n        border: none !important;\n        border-radius: 5px;\n        padding: 10px 20px;\n        cursor: pointer;\n        transition: background 0.3s;\n        margin-bottom: 10px;\n    }\n\n    .nr-dashboard-theme md-input-container {\n        background-color: #ffffff !important;\n        border-radius: 4px;\n    }\n\n    .nr-dashboard-theme .nr-dashboard-cardpanel {\n        padding: 10px !important;\n        margin: 10px 0 !important;\n    }\n\n\n    ui-card-panel {\n        background-color: rgba(255, 255, 255, 1.0) !important;\n        border: none !important;\n        border-radius: 10px !important;\n        box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.2), 0 4px 8px 0 rgba(0, 0, 0, 0.19) !important;\n        padding: 10px;\n    }\n\n\n\n    ui-card-panel#Echipamente_Update {\n        margin-left: 45px;\n    }\n\n    ui-card-panel#Echipamente_Table {\n        margin-left: 20px;\n    }\n\n    ui-card-panel#Module_AddRow {\n        margin-left: 45px;\n    }\n\n    ui-card-panel#Module_Update {\n        margin-left: 45px;\n    }\n\n    ui-card-panel#Module_Table {\n        margin-left: 20px;\n    }\n\n\n    .nr-dashboard-form._md.layout-align-space-between-center.layout-row.visible {\n        width: 100% !important;\n        padding: 0 !important;\n        margin: 0 !important;\n    }\n\n    md-card.nr-dashboard-form {\n        width: 100% !important;\n        max-width: 100% !important;\n        margin: 0 !important;\n        padding: 5px !important;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 350,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "3691e6d0cb0c032b",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "a2cc3748eccb7ce0",
        "group": "771f8c2f253ea5e4",
        "name": "Cauta",
        "order": 11,
        "width": 0,
        "height": 0,
        "format": "<style>\n    #select_2 {\n        margin-top: -5px;\n        position: relative;\n    }\n\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 310,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "613dfb3ebb9e8cfa",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "1fe46301c9c7358b",
        "name": "notificari",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    md-dialog {\n        border-radius: 15px !important;\n        overflow: hidden; /* Ascunde scrollbar-ul */\n        background-color: #f0f0f5;\n        border: none !important;\n    }\n\n    .md-dialog-content {\n        border-radius: 15px !important;\n        background-color: #f0f0f5;\n        border: none !important;\n        overflow: hidden !important; /* Ascunde scrollbar-ul */\n        max-height: 100%; /* Asigură că dialogul nu depășește înălțimea ecranului */\n    }\n\n    .md-dialog-actions {\n        border-radius: 0 0 15px 15px !important;\n        background-color: #f0f0f5;\n    }\n\n    .md-dialog-content-body {\n        border: none !important;\n        background-color: transparent !important; Setează fundalul transparent\n        color: #333333 !important;\n        max-height: calc(100vh - 120px); /* Ajustează înălțimea maximă pentru a preveni scrollbar-ul */\n        overflow-y: hidden !important; /* Elimină scrollbar-ul pe axa verticală */\n    }\n\n    .md-dialog-content-body * {\n        border: none !important;\n        box-shadow: none !important;\n        background-color: transparent !important; /* Elimină orice fundal roz */\n    }\n</style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 320,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "3e2689f70f84ed20",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "a2cc3748eccb7ce0",
        "group": "d60fb12b5e131bc6",
        "name": "Dismiss Add Row",
        "order": 4,
        "width": 5,
        "height": 1,
        "format": "    <style>\n        .nr-dashboard-button {\n            margin-top: -20px !important; /* Adjust this value to move the button higher */\n            height: 44px !important;\n        }\n\n        .nr-dashboard-button .md-button {\n            height: 60px !important; /* Set button height */\n            line-height: 60px !important; /* Align text vertically within the button */\n            font-family: 'Verdana', sans-serif !important; /* Set font to Verdana */\n            font-size: 16px !important; /* Set font size */\n            font-weight: bold !important; /* Make button text bold */\n            padding-top: 0 !important; /* Remove padding top */\n            padding-bottom: 0 !important; /* Remove padding bottom */\n        }\n    </style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 350,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "a7652477d762de69",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "a2cc3748eccb7ce0",
        "group": "d60fb12b5e131bc6",
        "name": "form add row",
        "order": 1,
        "width": 5,
        "height": 1,
        "format": "<style>\n  .nr-dashboard-form {\n    overflow-y: hidden;\n    padding: 0;\n  }\n\n  .nr-dashboard-form .formlabel {\n    margin-bottom: 6px !important;\n  }\n\n  .nr-dashboard-form .formElement {\n    margin-bottom: 2px !important;\n  }\n\n  .nr-dashboard-form md-input-container {\n    margin: 0 !important;\n    height: 48px !important;\n}\n\n  .nr-dashboard-form .md-errors-spacer {\n    height: 0 !important;\n  }\n\n  .nr-dashboard-form-button {\n    height: 44px;\n    line-height: 44px;\n    padding-top: 4px;\n    font-family: 'Verdana', sans-serif;\n    font-size: 16px;\n    font-weight: bold;\n    color: white;\n    background-color: #2196F3;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n\n  .nr-dashboard-form .form-control-single {\n    margin-top: 15px !important;\n  }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 330,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "57db05e0d97d3366",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "a2cc3748eccb7ce0",
        "group": "dc5ad2cffc4b5a3c",
        "name": "form update",
        "order": 1,
        "width": 5,
        "height": 1,
        "format": "<style>\n    /* Custom CSS for Node-RED dashboard form */\n    .nr-dashboard-form {\n        overflow-y: hidden;\n        /* Hide vertical scroll bar */\n        padding: 0;\n        /* Remove padding */\n    }\n\n    .nr-dashboard-form .formlabel {\n        margin-bottom: 6px !important;\n        /* Adjust label bottom margin */\n    }\n\n    .nr-dashboard-form .formElement {\n        margin-bottom: 2px !important;\n        /* Adjust spacing between form elements */\n    }\n\n    .nr-dashboard-form md-input-container {\n        margin: 0 !important;\n        /* Override default margin for input container */\n        height: 42px !important;\n        /* Set a fixed height for input container */\n    }\n\n    .nr-dashboard-form .md-errors-spacer {\n        height: 0 !important;\n        /* Remove error spacer height */\n    }\n\n    .nr-dashboard-form-button {\n\n        line-height: 44px;\n        /* Set line height to center text vertically */\n        padding-top: 4px;\n        /* Adjust padding to move text up */\n        font-family: 'Verdana', sans-serif;\n        /* Set font to Verdana */\n        font-size: 16px;\n        /* Set font size */\n        font-weight: bold;\n        /* Make button text bold */\n        color: white;\n        /* Set text color */\n        background-color: #2196F3;\n        /* Set background color */\n        border: none;\n        /* Remove border */\n        border-radius: 4px;\n        /* Add border radius */\n        cursor: pointer;\n        /* Change cursor to pointer on hover */\n    }\n\n    .nr-dashboard-form .form-control-single {\n        margin-top: 15px !important;\n        /* Increase margin to move the button down */\n    }\n    .nr-dashboard-button {\n        margin-top: 0px !important; /* Adjust this value to move the button higher */\n        height: 44pxpx !important;\n    }\n            \n    .nr-dashboard-button .md-button {\n        height: 44px !important; /* Set button height */\n        line-height: 54px !important; /* Align text vertically within the button */\n        font-family: 'Verdana', sans-serif !important; /* Set font to Verdana */\n        font-size: 16px !important; /* Set font size */\n        font-weight: bold !important; /* Make button text bold */\n        padding-top: 0 !important; /* Remove padding top */\n        padding-bottom: 0 !important; /* Remove padding bottom */\n    }\n    \n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 330,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "0de060138f0b76d1",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "7fb0da83723f5e69",
        "group": "d96fd753ada9b4b9",
        "name": "form add row RawMaterials",
        "order": 1,
        "width": 5,
        "height": 1,
        "format": "<style>\n    .nr-dashboard-form {\n        overflow-y: hidden;\n        padding: 0;\n    }\n\n    .nr-dashboard-form .formlabel {\n        margin-bottom: 6px !important;\n    }\n\n    .nr-dashboard-form .formElement {\n        margin-bottom: 2px !important;\n    }\n\n    .nr-dashboard-form md-input-container {\n        margin: 0 !important;\n        height: 52px !important;\n    }\n\n    .nr-dashboard-form .md-errors-spacer {\n        height: 0 !important;\n    }\n\n    .nr-dashboard-form-button {\n        height: 44px;\n        line-height: 44px;\n        padding-top: 4px;\n        font-family: 'Verdana', sans-serif;\n        font-size: 16px;\n        font-weight: bold;\n        color: white;\n        background-color: #2196F3;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n\n    .nr-dashboard-form .form-control-single {\n        margin-top: 15px !important;\n    }\n    .nr-dashboard-button {\n            margin-top: 0px !important; /* Adjust this value to move the button higher */\n            height: 44px !important;\n        }\n\n        .nr-dashboard-button .md-button {\n            height: 60px !important; /* Set button height */\n            line-height: 60px !important; /* Align text vertically within the button */\n            font-family: 'Verdana', sans-serif !important; /* Set font to Verdana */\n            font-size: 16px !important; /* Set font size */\n            font-weight: bold !important; /* Make button text bold */\n            padding-top: 0 !important; /* Remove padding top */\n            padding-bottom: 0 !important; /* Remove padding bottom */\n        }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 660,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "f4fdd5c8061a68e8",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "7fb0da83723f5e69",
        "group": "ae4b881991a919f1",
        "name": "Dismiss Add Row",
        "order": 7,
        "width": 5,
        "height": 1,
        "format": "    <style>\n        .nr-dashboard-button {\n            margin-top: 0px !important; /* Adjust this value to move the button higher */\n            height: 44px !important;\n        }\n\n        .nr-dashboard-button .md-button {\n            height: 60px !important; /* Set button height */\n            line-height: 60px !important; /* Align text vertically within the button */\n            font-family: 'Verdana', sans-serif !important; /* Set font to Verdana */\n            font-size: 16px !important; /* Set font size */\n            font-weight: bold !important; /* Make button text bold */\n            padding-top: 0 !important; /* Remove padding top */\n            padding-bottom: 0 !important; /* Remove padding bottom */\n        }\n    </style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 630,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "2be33142c30f1e56",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "7fb0da83723f5e69",
        "group": "ae4b881991a919f1",
        "name": "form update",
        "order": 1,
        "width": 5,
        "height": 1,
        "format": "<style>\n    .nr-dashboard-form {\n        overflow-y: hidden;\n        padding: 0;\n    }\n\n    .nr-dashboard-form .formlabel {\n        margin-bottom: 6px !important;\n    }\n\n    .nr-dashboard-form .formElement {\n        margin-bottom: 2px !important;\n    }\n\n    .nr-dashboard-form md-input-container {\n        margin: 0 !important;\n        height: 42px !important;\n    }\n\n    .nr-dashboard-form .md-errors-spacer {\n        height: 0 !important;\n    }\n\n    .nr-dashboard-form-button {\n\n        line-height: 44px;\n        padding-top: 4px;\n        font-family: 'Verdana', sans-serif;\n        font-size: 16px;\n        font-weight: bold;\n        color: white;\n        background-color: #2196F3;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n\n    .nr-dashboard-form .form-control-single {\n        margin-top: 15px !important;\n    }\n    .nr-dashboard-button {\n        margin-top: 0px !important; /* Adjust this value to move the button higher */\n        height: 44pxpx !important;\n    }\n            \n    .nr-dashboard-button .md-button {\n        height: 44px !important; /* Set button height */\n        line-height: 54px !important; /* Align text vertically within the button */\n        font-family: 'Verdana', sans-serif !important; /* Set font to Verdana */\n        font-size: 16px !important; /* Set font size */\n        font-weight: bold !important; /* Make button text bold */\n        padding-top: 0 !important; /* Remove padding top */\n        padding-bottom: 0 !important; /* Remove padding bottom */\n    }\n    \n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 610,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "ed4ea203e018ed27",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "7fb0da83723f5e69",
        "group": "d96fd753ada9b4b9",
        "name": "Dismiss Add Row",
        "order": 4,
        "width": 5,
        "height": 1,
        "format": "    <style>\n        .nr-dashboard-button {\n            margin-top: 0px !important; /* Adjust this value to move the button higher */\n            height: 44px !important;\n        }\n\n        .nr-dashboard-button .md-button {\n            height: 60px !important; /* Set button height */\n            line-height: 60px !important; /* Align text vertically within the button */\n            font-family: 'Verdana', sans-serif !important; /* Set font to Verdana */\n            font-size: 16px !important; /* Set font size */\n            font-weight: bold !important; /* Make button text bold */\n            padding-top: 0 !important; /* Remove padding top */\n            padding-bottom: 0 !important; /* Remove padding bottom */\n        }\n    </style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 630,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "5064a5bb497f32fd",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "7fb0da83723f5e69",
        "group": "09fb30b629e51b73",
        "name": "Cauta",
        "order": 10,
        "width": 10,
        "height": 1,
        "format": "<style>\n    #select_2 {\n        margin-top: -5px;\n        position: relative;\n    }\n\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 590,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "4887185e8cddccee",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "9fa3b9b777e117fe",
        "group": "8b4b273e146c1f63",
        "name": "no scroll bar",
        "order": 5,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .nr-dashboard-form {\n    overflow-y: hidden;\n    padding: 0;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 350,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "c0f03530fcbe1d26",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "9fa3b9b777e117fe",
        "group": "8b4b273e146c1f63",
        "name": "form",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .nr-dashboard-form {\n        overflow-y: hidden;\n        padding: 0;\n    }\n\n    .nr-dashboard-form .formlabel {\n        margin-bottom: 3px !important;\n    }\n\n    .nr-dashboard-form .formElement {\n        margin-bottom: 5px !important;\n    }\n\n    .nr-dashboard-form md-input-container {\n        margin: 0 !important;\n        height: 37px !important;\n    }\n\n    .nr-dashboard-form .md-errors-spacer {\n        height: 0 !important;\n    }\n\n\n    \n\n    .nr-dashboard-form .form-control-single {\n        margin-top: 15px !important;\n        /* Increase margin to move the button down */\n    }\n\n    .nr-dashboard-button {\n        margin-top: 0px !important;\n        /* Adjust this value to move the button higher */\n        height: 40px !important;\n    }\n\n    .nr-dashboard-button .md-button {\n        height: 40px !important;\n        /* Set button height */\n        line-height: 46px !important;\n        /* Align text vertically within the button */\n        font-family: 'Verdana', sans-serif !important;\n        /* Set font to Verdana */\n        font-size: 16px !important;\n        /* Set font size */\n        font-weight: bold !important;\n        /* Make button text bold */\n        padding-top: 0 !important;\n        /* Remove padding top */\n        padding-bottom: 0 !important;\n        /* Remove padding bottom */\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 330,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "3e39fbc8fd5bc892",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "9fa3b9b777e117fe",
        "group": "8b4b273e146c1f63",
        "name": "",
        "order": 8,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .form-control {\n        margin-top: 36px;\n    }\nschimbi\n    .md-raised {\n        height: 44px;\n        line-height: 44px;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 340,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "80e81a1ce0d779cd",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "a2cc3748eccb7ce0",
        "group": "",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope) {\n        window.onload = function() {\n            // Select the button by its ID and remove it\n            var button = document.getElementById('toolbar-button');\n            if (button) {\n                button.parentNode.removeChild(button);\n            }\n        };\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 320,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "e1315b380fa77436",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "group": "",
        "name": "notif",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .md-toast-content {\n        background-color: #de673c!important;\n        color: white !important;\n        font-family: 'Verdana', sans-serif !important;\n        font-size: 16px !important;\n        font-weight: bold !important;\n    }\n\n    .md-toast.noLogin {\n        border: none !important;\n        padding: 16px !important;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 310,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "4a3437527e769185",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "9fa3b9b777e117fe",
        "group": "ccd373741b2a4358",
        "name": "register",
        "order": 2,
        "width": 2,
        "height": 1,
        "format": "<style>\n    .nr-dashboard-form {\n        overflow-y: hidden;\n        padding: 0;\n    }\n\n    .nr-dashboard-form .formlabel {\n        margin-bottom: 6px !important;\n    }\n\n    .nr-dashboard-form .formElement {\n        margin-bottom: 2px !important;\n    }\n\n    .nr-dashboard-form md-input-container {\n        margin: 0 !important;\n        height: 42px !important;\n    }\n\n    .nr-dashboard-form .md-errors-spacer {\n        height: 0 !important;\n    }\n\n    .nr-dashboard-form-button {\n        height: 34px;\n        line-height: 34px;\n        padding-top: 4px;\n        font-family: 'Verdana', sans-serif;\n        font-size: 16px;\n        font-weight: bold;\n        color: white;\n        background-color: #2196F3;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n\n    .nr-dashboard-form .form-control-single {\n        margin-top: 15px !important;\n    }\n\n    .nr-dashboard-button {\n        margin-top: 0px !important;\n        height: 44px !important;\n    }\n\n    .nr-dashboard-button .md-button {\n        height: 44px !important;\n        line-height: 44px !important;\n        font-family: 'Verdana', sans-serif !important;\n        font-size: 16px !important;\n        font-weight: bold !important;\n        padding-top: 0 !important;\n        padding-bottom: 0 !important;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 340,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "5edb9f1a9b3814e8",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "9fa3b9b777e117fe",
        "group": "8b4b273e146c1f63",
        "name": "",
        "order": 6,
        "width": 0,
        "height": 0,
        "format": "<style>\n.nr-dashboard-form {\n    position: relative; /* Asigură-te că cardul are o poziție relativă sau absolută */\n    top: -20px; /* Asta va muta cardul cu 20px mai sus */\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 340,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "9b8eca2f595b1479",
        "type": "ui_template",
        "z": "142b8614bd48c69b",
        "g": "9fa3b9b777e117fe",
        "group": "8b4b273e146c1f63",
        "name": "buton register",
        "order": 9,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .md-raised.md-button.md-ink-ripple,\n    .button.md-raised.nr-dashboard-form-button.md-button.md-ink-ripple {\n        background-color: #4CAF50 !important;\n        width: 290px !important;\n        height: 38px !important;\n        color: white !important;\n        padding-top: 4px !important;\n        padding-bottom: 2px !important;\n        line-height: 32px !important;\n        transition: transform 0.1s ease, width 0.1s ease, height 0.1s ease;\n        box-sizing: border-box !important;\n        margin-left: auto !important;\n        margin-right: auto !important;\n        display: block !important;\n        text-align: center !important;\n    }\n\n    .md-raised.md-button.md-ink-ripple:hover,\n    .button.md-raised.nr-dashboard-form-button.md-button.md-ink-ripple:hover {\n        background-color: #347536 !important;\n    }\n\n    .md-raised.md-button.md-ink-ripple:active,\n    .button.md-raised.nr-dashboard-form-button.md-button.md-ink-ripple:active {\n        background-color: #388E3C !important;\n        transform: scale(0.98);\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 360,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "09789a97e25426a4",
        "type": "ui_etable",
        "z": "e19c6a443441a8be",
        "payload": "[{\"title\":\"Cod\",\"field\":\"cod_identificare\",\"width\":\"15%\"},{\"title\":\"Descriere\",\"field\":\"info\",\"width\":\"52%\"},{\"title\":\"Pret unitar\",\"field\":\"pret\",\"width\":\"13%\"},{\"title\":\"Cantitate\",\"field\":\"cantitate\",\"width\":\"10%\"},{\"title\":\"Pret total\",\"field\":\"pret_total\",\"width\":\"10%\"}]",
        "payloadType": "json",
        "options": "{\"movableColumns\":true,\"resizableColumns\":true,\"selectable\":1,\"responsiveLayout\":\"collapse\",\"autoResize\":true,\"layout\":\"fitColumns\",\"pagination\":\"local\",\"height\":\"100%\"}",
        "group": "09fb30b629e51b73",
        "name": "",
        "order": 8,
        "width": 22,
        "height": 12,
        "columns": [],
        "outputs": 1,
        "cts": false,
        "x": 1110,
        "y": 540,
        "wires": [
            [
                "bb19ca79ac491d7c"
            ]
        ]
    },
    {
        "id": "97b3010957319a7f",
        "type": "ui_ui_control",
        "z": "e19c6a443441a8be",
        "name": "",
        "events": "all",
        "x": 60,
        "y": 540,
        "wires": [
            [
                "d839ac5722f248c6"
            ]
        ]
    },
    {
        "id": "d839ac5722f248c6",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "function 10",
        "func": "if (msg.payload == \"connect\" || msg.payload == \"change\" || msg.payload == \"addRow\") \n    return msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 540,
        "wires": [
            [
                "e1f5bb7086362415"
            ]
        ]
    },
    {
        "id": "e1f5bb7086362415",
        "type": "delay",
        "z": "e19c6a443441a8be",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 340,
        "y": 540,
        "wires": [
            [
                "16ecec71aaafa03c"
            ]
        ]
    },
    {
        "id": "410686544028e97d",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 660,
        "y": 540,
        "wires": [
            [
                "876628b79e229ace"
            ]
        ]
    },
    {
        "id": "8ddcb84dc26532f4",
        "type": "ui_form",
        "z": "e19c6a443441a8be",
        "name": "AddRow",
        "label": "Adauga echipament",
        "group": "d96fd753ada9b4b9",
        "order": 2,
        "width": 5,
        "height": 1,
        "options": [
            {
                "label": "Cod de identificare",
                "value": "cod_identificare",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Descriere",
                "value": "info",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Cantitate",
                "value": "cantitate",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Pret",
                "value": "pret",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Categorie",
                "value": "categorie",
                "type": "text",
                "required": false,
                "rows": null
            }
        ],
        "formValue": {
            "cod_identificare": "",
            "info": "",
            "cantitate": "",
            "pret": "",
            "categorie": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "",
        "topic": "payload",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 60,
        "y": 720,
        "wires": [
            [
                "ac868d000e8ab889",
                "28c3fd51abee39b7",
                "a1140585cf99c508",
                "9ca08777f0c9dd3c",
                "4640a34c6266171f"
            ]
        ]
    },
    {
        "id": "8c67258e471f33aa",
        "type": "ui_button",
        "z": "e19c6a443441a8be",
        "name": "",
        "group": "d96fd753ada9b4b9",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Dismiss",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 60,
        "y": 600,
        "wires": [
            [
                "6678b217013dcd9e"
            ]
        ]
    },
    {
        "id": "93dea6c5742c31f4",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 385,
        "y": 600,
        "wires": []
    },
    {
        "id": "6678b217013dcd9e",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Module_AddRow\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 600,
        "wires": [
            [
                "93dea6c5742c31f4"
            ]
        ]
    },
    {
        "id": "ac868d000e8ab889",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Introducere in baza de date",
        "func": "\nmsg.topic = \"INSERT INTO RawMaterials (cod_identificare, info, cantitate, pret, pret_total, categorie) VALUES ($val1, $val2, $val3, $val4, $val5, $val6)\";\nvar pret_total = msg.payload.cantitate * msg.payload.pret;\nmsg.payload = [msg.payload.cod_identificare, msg.payload.info, msg.payload.cantitate,msg.payload.pret, pret_total, msg.payload.categorie];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 720,
        "wires": [
            [
                "9aab5f0ac09b783c"
            ]
        ]
    },
    {
        "id": "9aab5f0ac09b783c",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 560,
        "y": 720,
        "wires": [
            [
                "0498ef60560d3182"
            ]
        ]
    },
    {
        "id": "589edae163e02e98",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 900,
        "y": 720,
        "wires": [
            [
                "876628b79e229ace"
            ]
        ]
    },
    {
        "id": "28c3fd51abee39b7",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cv",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "54fa715f0d3707aa",
        "type": "link in",
        "z": "e19c6a443441a8be",
        "name": "ReimprospatareRawMaterials",
        "links": [
            "d15d8c3fdc56c847",
            "57b25db5f30ae6bb",
            "5613738c5446c7b8"
        ],
        "x": 725,
        "y": 480,
        "wires": [
            [
                "876628b79e229ace"
            ]
        ]
    },
    {
        "id": "bb19ca79ac491d7c",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SelectedRow",
                "pt": "flow",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "997d47786c476b79",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Generate Info Message",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar infoMessage = \"<div style='font-family: Verdana, sans-serif; color: #000000;'><div style='margin-top: 20px; padding: 10px; border: 0.5px solid #47464e; border-radius: 30px; background-color: #dcdae8;'>\";\n\nvar keysToDisplay = ['nume', 'cod_identificare', 'cantitate', 'size', 'weight', 'info', 'pret', 'pret_total', 'categorie'];\nfor (var key of keysToDisplay) {\n    if (selectedRow.hasOwnProperty(key)) {\n        infoMessage += \"<div style='margin: 5px 0;'><b style='display: inline-block; width: 150px; color: #555;'>\" + key.replace('_', ' ').toUpperCase() + \":</b> \" + selectedRow[key] + \"</div>\";\n    }\n}\ninfoMessage += \"</div></div>\";\n\nmsg.payload = infoMessage;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 300,
        "wires": [
            [
                "71251ae1a596dd06"
            ]
        ]
    },
    {
        "id": "71251ae1a596dd06",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Update",
        "cancel": "Dismiss",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "Info Notification",
        "x": 1200,
        "y": 300,
        "wires": [
            [
                "56029027d9c1b28b"
            ]
        ]
    },
    {
        "id": "6cd01bd76cd18203",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 300,
        "wires": [
            [
                "997d47786c476b79"
            ]
        ]
    },
    {
        "id": "56029027d9c1b28b",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Update",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Dismiss",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1370,
        "y": 300,
        "wires": [
            [
                "19b3f1256747af7e"
            ],
            []
        ]
    },
    {
        "id": "c58146ed640a5dcd",
        "type": "ui_button",
        "z": "e19c6a443441a8be",
        "name": "",
        "group": "ae4b881991a919f1",
        "order": 6,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Dismiss",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 60,
        "y": 660,
        "wires": [
            [
                "8d30f4544568f670"
            ]
        ]
    },
    {
        "id": "8d30f4544568f670",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Module_Update\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 660,
        "wires": [
            [
                "93dea6c5742c31f4"
            ]
        ]
    },
    {
        "id": "f4d6014ccdcfd1a2",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Delete",
        "cancel": "Exit",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "",
        "x": 1190,
        "y": 360,
        "wires": [
            [
                "c8cf95adc358e3d9"
            ]
        ]
    },
    {
        "id": "db8fa9fb6c3adc8e",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 750,
        "y": 360,
        "wires": [
            [
                "a72e204bf77f7142"
            ]
        ]
    },
    {
        "id": "a72e204bf77f7142",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Generate Delete Message",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar infoMessage = \"<div style='font-family: Verdana, sans-serif; color:#000000;'>\";\n\nif (selectedRow && selectedRow.cod_identificare) {\n    infoMessage += \"<strong>\" + selectedRow.cod_identificare + \"</strong><br>\";  // Adaugă cod_identificare bolduit\n}\n\ninfoMessage += \"Are you sure?\";  // Adaugă restul mesajului\ninfoMessage += \"</div>\";\n\nmsg.payload = infoMessage;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 360,
        "wires": [
            [
                "f4d6014ccdcfd1a2"
            ]
        ]
    },
    {
        "id": "c8cf95adc358e3d9",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Delete",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Exit",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1350,
        "y": 360,
        "wires": [
            [
                "c7f69728277d69e2",
                "c2968f44264fba7a"
            ],
            []
        ]
    },
    {
        "id": "c7f69728277d69e2",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SelectedRow",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 340,
        "wires": [
            [
                "d3a86253d6285ee7"
            ]
        ]
    },
    {
        "id": "d3a86253d6285ee7",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "link out 7",
        "mode": "link",
        "links": [
            "b660e6ca854919c9"
        ],
        "x": 1675,
        "y": 340,
        "wires": []
    },
    {
        "id": "32808aaf04a48d00",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "UpdatePret",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    if (msg.payload.pret != null) {\n        msg.topic = \"UPDATE RawMaterials SET pret = $val1, pret_total = $val2 WHERE cod_identificare = $val3 and info = $val4\";\n        var total = msg.payload.pret * selectedRow.cantitate;\n        \n        selectedRow.pret = msg.payload.pret;\n        selectedRow.pret_total = total;\n\n        msg.payload = [msg.payload.pret, total, selectedRow.cod_identificare, selectedRow.info];\n        \n    }\n    return msg;\n} else {\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 840,
        "wires": [
            [
                "f1bf4cffeebced73",
                "8f2210939d1d97e2",
                "4dbbdca1c9b0d99b"
            ]
        ]
    },
    {
        "id": "d86bae6bea08b273",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "UpdateCantitate",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    if (msg.payload.cantitate != null) {\n        msg.topic = \"UPDATE RawMaterials SET cantitate = $val1, pret_total = $val2 WHERE cod_identificare = $val3 AND info = $val4\";\n        var total = msg.payload.cantitate * selectedRow.pret;\n\n        selectedRow.cantitate = msg.payload.cantitate;\n        selectedRow.pret_total = total;\n\n        msg.payload = [msg.payload.cantitate, total, selectedRow.cod_identificare, selectedRow.info];\n    }\n    return msg;\n} else {\n    msg.payload = null;\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 880,
        "wires": [
            [
                "f1bf4cffeebced73",
                "8f2210939d1d97e2",
                "4dbbdca1c9b0d99b"
            ]
        ]
    },
    {
        "id": "ac9c6280bf5a119b",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "UpdateInfo",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\n\nif (utili) {\n    if (msg.payload.info != null && msg.payload.info !== \"\") {\n        msg.topic = \"UPDATE RawMaterials SET info = $val1 WHERE cod_identificare = $val2 AND info = $val3\";\n    \n        selectedRow.info = msg.payload.info;\n\n        msg.payload = [msg.payload.info, selectedRow.cod_identificare, selectedRow.info];\n    \n        return msg;\n    } else {\n        // Dacă info este null sau gol, nu face update pentru acel câmp\n        return null; // Sau returnează msg pentru a nu trimite nimic mai departe\n    }\n} else {\n    msg.payload = null;\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 920,
        "wires": [
            [
                "f1bf4cffeebced73",
                "8f2210939d1d97e2",
                "4dbbdca1c9b0d99b"
            ]
        ]
    },
    {
        "id": "d1d18bab590b94d0",
        "type": "ui_template",
        "z": "e19c6a443441a8be",
        "group": "1fe46301c9c7358b",
        "name": "esc/click notification",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<script>\n    var escPressed = false;\n\n    function closeAllDialogs() {\n        var dialogs = document.querySelectorAll('md-dialog');\n        dialogs.forEach(function(dialog) {\n            var closeButton = dialog.querySelector('.md-cancel-button');\n            if (closeButton) {\n                closeButton.click();\n            }\n        });\n    }\n\n    document.addEventListener('keydown', function(event) {\n        if (event.key === 'Escape' || event.key === 'Esc') {\n            escPressed = true;\n            closeAllDialogs();\n            resetEscPressed();\n            sendToNodeRed();  // Trimite mesaj către Node-RED\n        }\n    });\n\n    document.addEventListener('click', function(event) {\n        var dialogs = document.querySelectorAll('md-dialog');\n        if (dialogs.length > 0 && !dialogs[0].contains(event.target)) {\n            escPressed = true;\n            closeAllDialogs();\n            resetEscPressed();\n            sendToNodeRed();  // Trimite mesaj către Node-RED\n        }\n    });\n\n    function resetEscPressed() {\n        setTimeout(function() {\n            escPressed = false;\n        }, 500);\n    }\n\n    function sendToNodeRed() {\n        var msg = { payload: \"notificationClosed\" };\n        node.send(msg);  // Trimite mesajul către Node-RED\n    }\n\n    (function(scope) {\n        scope.$watch('msg', function(msg) {\n            if (msg) {\n                // Logica pentru a prelua mesaje din Node-RED\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 100,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "f1bf4cffeebced73",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Module_Update\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 840,
        "wires": [
            [
                "b94b3e4932cc7175"
            ]
        ]
    },
    {
        "id": "b94b3e4932cc7175",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 655,
        "y": 840,
        "wires": []
    },
    {
        "id": "32456ad2019a75c7",
        "type": "ui_template",
        "z": "e19c6a443441a8be",
        "group": "1fe46301c9c7358b",
        "name": "css button toolbar",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    #toolbar-button {\n        width: 120px;\n        /* Lățime mărită */\n        height: 54px;\n        background-color: #208f86 !important;\n        color: white !important;\n        border-radius: 5px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: background-color 0.3s, transform 0.2s ease;\n        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n        padding: 10px 20px;\n        /* Asigură-te că textul este centrat */\n        position: relative;\n        overflow: hidden;\n        border: none;\n        cursor: pointer;\n        font-size: 16px;\n        font-weight: bold;\n    }\n\n    #toolbar-button:hover {\n        background-color: #176e67 !important;\n    }\n\n    #toolbar-button:active {\n        background-color: #03453f !important;\n        transform: scale(0.95);\n    }\n\n    #toolbar-button::after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 20px;\n        height: 20px;\n        background: rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        transform: scale(0);\n        transform-origin: center;\n        transition: transform 0.2s ease, width 0.2s ease, height 0.2s ease;\n    }\n\n    #toolbar-button:active::after {\n        transform: scale(5);\n        width: 300%;\n        height: 300%;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 370,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "47c53ee0665e6bc6",
        "type": "ui_template",
        "z": "e19c6a443441a8be",
        "group": "09fb30b629e51b73",
        "name": "toolbar buttons",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope){\n        function removeAllContainers() {\n            let containers = document.querySelectorAll(\".toolbar-container\");\n            containers.forEach(container => container.remove());\n        }\n\n        let tabId = scope.tabId;\n        \n        removeAllContainers();\n\n        let container = document.createElement(\"div\");\n        container.id = tabId;\n        container.className = \"toolbar-container\";\n        container.style.display = \"flex\";\n        container.style.justifyContent = \"center\";\n        container.style.width = \"100%\";\n\n        let btn5 = document.createElement(\"button\");\n        btn5.innerHTML = \"<i class='material-icons'>note_add</i>&nbsp;Add\";\n        btn5.id = \"toolbar-button\";\n        btn5.style.margin = \"5px\";\n        \n        let btn = document.createElement(\"button\");\n        btn.innerHTML = \"<i class='fa fa-plus'></i>&nbsp;Cantitate\";\n        btn.id = \"toolbar-button\";\n        btn.style.margin = \"5px\";\n\n        let btn2 = document.createElement(\"button\");\n        btn2.innerHTML = \"<i class='fa fa-minus'></i>&nbsp;Cantitate\";\n        btn2.id = \"toolbar-button\";\n        btn2.style.margin = \"5px\";\n\n        let btn3 = document.createElement(\"button\");\n        btn3.innerHTML = \"<i class='fa fa-download'></i>&nbsp;Export\";\n        btn3.id = \"toolbar-button\";\n        btn3.style.margin = \"5px\";\n\n        let btn4 = document.createElement(\"button\");\n        btn4.innerHTML = \"<i class='fa fa-info-circle'></i>&nbsp;Descriere\";\n        btn4.id = \"toolbar-button\";\n        btn4.style.margin = \"5px\";\n\n        let btn6 = document.createElement(\"button\");\n        btn6.innerHTML = \"<i class='fa fa-trash-o'></i>&nbsp;Delete\";\n        btn6.id = \"toolbar-button\";\n        btn6.style.margin = \"5px\";\n\n        container.appendChild(btn5);\n        container.appendChild(btn);\n        container.appendChild(btn2);\n        container.appendChild(btn3);\n        container.appendChild(btn4);\n        container.appendChild(btn6);\n\n        let obj = document.querySelector(\".md-toolbar-tools\");\n        obj.appendChild(container);\n\n        btn5.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"add\"});\n        });\n\n        btn.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"increment\"});\n        });\n        \n        btn2.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"decrement\"});\n        });\n\n        btn3.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"export\"});\n            window.location.href = 'download/Raw';\n        });\n\n        btn4.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"info\"});\n        });\n\n        btn6.addEventListener(\"click\", () => {\n            scope.send({payload: \"delete\"});\n        });\n\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 360,
        "y": 100,
        "wires": [
            [
                "ccf11e75d52ea368"
            ]
        ]
    },
    {
        "id": "ccf11e75d52ea368",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "add",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "increment",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "decrement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "export",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "info",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "delete",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 570,
        "y": 100,
        "wires": [
            [
                "2dd19ee301427857",
                "475c3b2a8e4f7d76"
            ],
            [
                "214bc6cb7ccf4058",
                "617964cff55ccf40"
            ],
            [
                "50e9715f940282fc",
                "3aabbe42498e2c6d"
            ],
            [
                "77cd4160c443f894",
                "dde374cbb2e05893"
            ],
            [
                "daea3c033aeede53"
            ],
            [
                "db8fa9fb6c3adc8e",
                "5c5d815fe8079949"
            ]
        ]
    },
    {
        "id": "2dd19ee301427857",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "flow",
                "to": "addRow",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "475c3b2a8e4f7d76",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Module_AddRow\"],\"hide\":[\"Module_Update\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 60,
        "wires": [
            [
                "20e6d657de755cfb"
            ]
        ]
    },
    {
        "id": "20e6d657de755cfb",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 935,
        "y": 60,
        "wires": []
    },
    {
        "id": "214bc6cb7ccf4058",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "increment",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar textVerificare = \"⚠️ 0 ❗\"; \n\nif (utili) {\n    msg.topic = \"UPDATE RawMaterials SET cantitate = $val1, pret_total = $val2 WHERE cod_identificare = $val3 AND info = $val4\";\n    \n    if (selectedRow.cantitate !== textVerificare) {\n        var cantitate_noua = selectedRow.cantitate + 1;\n        selectedRow.cantitate = cantitate_noua;\n        flow.set(\"SelectedRow\", selectedRow);\n        var total = cantitate_noua * selectedRow.pret;\n        msg.payload = [cantitate_noua, total, selectedRow.cod_identificare, selectedRow.info];\n    } else {\n        selectedRow.cantitate = 1;\n        flow.set(\"SelectedRow\", selectedRow);\n        var total = 1 * selectedRow.pret;\n        msg.payload = [1, total, selectedRow.cod_identificare, selectedRow.info];\n    }\n    \n    return msg;\n} else {\n    return null;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 100,
        "wires": [
            [
                "322efc68c2537c37"
            ]
        ]
    },
    {
        "id": "50e9715f940282fc",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "decrement",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar textVerificare = \"⚠️ 0 ❗\"; // Textul de verificat\n\nif (utili) {\n    msg.topic = \"UPDATE RawMaterials SET cantitate = $val1, pret_total = $val2 WHERE cod_identificare = $val3 AND info = $val4\";\n    \n    if (selectedRow.cantitate !== textVerificare) {\n        var cantitate_noua = selectedRow.cantitate - 1;\n        selectedRow.cantitate = cantitate_noua;\n        flow.set(\"SelectedRow\", selectedRow);\n        var total = cantitate_noua * selectedRow.pret;\n        msg.payload = [cantitate_noua, total, selectedRow.cod_identificare, selectedRow.info];\n    } else {\n        var cantitate_noua2 = 0;\n        selectedRow.cantitate = cantitate_noua2;\n        flow.set(\"SelectedRow\", selectedRow);\n        var total = cantitate_noua2 * selectedRow.pret;\n        msg.payload = [cantitate_noua2, total, selectedRow.cod_identificare, selectedRow.info];\n    }\n    \n    return msg;\n} else {\n    return null;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 140,
        "wires": [
            [
                "322efc68c2537c37"
            ]
        ]
    },
    {
        "id": "322efc68c2537c37",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 980,
        "y": 120,
        "wires": [
            [
                "3782dc2ed28bd1e6"
            ]
        ]
    },
    {
        "id": "e65d3bbc2c3e4aaa",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 1320,
        "y": 120,
        "wires": [
            [
                "57b25db5f30ae6bb"
            ]
        ]
    },
    {
        "id": "57b25db5f30ae6bb",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "inc/dec",
        "mode": "link",
        "links": [
            "54fa715f0d3707aa"
        ],
        "x": 1425,
        "y": 120,
        "wires": []
    },
    {
        "id": "6b4e627c653a1144",
        "type": "ui_template",
        "z": "e19c6a443441a8be",
        "group": "7f9380cd09d9f4cb",
        "name": "Header Status",
        "order": 2,
        "width": "0",
        "height": "0",
        "format": "<style>\n    #headerStatus {\n        font-weight: bold;\n        text-transform: uppercase;\n    }\n    #headerStatus.online {\n        color: lime;\n    }\n    #headerStatus.offline {\n        color: tomato;\n    }\n</style>\n\n<script id=\"titleScript\" type=\"text/javascript\">\n$(function() {\n    if($('.md-toolbar-tools').length){\n        initHeader();\n    } else setTimeout(initHeader, 500)\n});\n\nfunction initHeader(){\n    if (!$('#headerStatus').length) {\n        var toolbar = $('.md-toolbar-tools');\n        var div = $('<div/>');\n        var p = $('<p id=\"headerStatus\" />');\n        div[0].style.margin = '5px 5px 5px auto';\n        div.append(p);\n        toolbar.append(div);\n    }\n}\n</script>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "global",
        "className": "",
        "x": 360,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "fe9f106ebdc48522",
        "type": "ui_form",
        "z": "e19c6a443441a8be",
        "name": "Update",
        "label": "",
        "group": "ae4b881991a919f1",
        "order": 5,
        "width": 5,
        "height": 1,
        "options": [
            {
                "label": "Cod",
                "value": "cod_identificare",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Pret",
                "value": "pret",
                "type": "number",
                "required": false,
                "rows": null
            },
            {
                "label": "Cantitate",
                "value": "cantitate",
                "type": "number",
                "required": false,
                "rows": null
            },
            {
                "label": "Descriere",
                "value": "info",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Categorie",
                "value": "categorie",
                "type": "text",
                "required": false,
                "rows": null
            }
        ],
        "formValue": {
            "cod_identificare": "",
            "pret": "",
            "cantitate": "",
            "info": "",
            "categorie": ""
        },
        "payload": "",
        "submit": "Update",
        "cancel": "",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "<custom>",
        "x": 100,
        "y": 860,
        "wires": [
            [
                "32808aaf04a48d00",
                "d86bae6bea08b273",
                "ac9c6280bf5a119b",
                "dbae3be151b19fe6",
                "a33c757e9f1883ba"
            ]
        ]
    },
    {
        "id": "a1140585cf99c508",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Echipament adaugat.",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 800,
        "wires": [
            [
                "2e4da9e027865caa"
            ]
        ]
    },
    {
        "id": "2e4da9e027865caa",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 510,
        "y": 800,
        "wires": []
    },
    {
        "id": "9f10d8e33c45c8dc",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "link out 12",
        "mode": "link",
        "links": [
            "a46e5825241a3037"
        ],
        "x": 1165,
        "y": 80,
        "wires": []
    },
    {
        "id": "617964cff55ccf40",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "log_inc",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"increment 1\";\n\nif (selectedRow.cod_identificare) {\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 80,
        "wires": [
            [
                "9f10d8e33c45c8dc"
            ]
        ]
    },
    {
        "id": "3aabbe42498e2c6d",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "log_inc",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"decrement 1\";\n\nif (selectedRow.cod_identificare) {\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 180,
        "wires": [
            [
                "9f10d8e33c45c8dc"
            ]
        ]
    },
    {
        "id": "77cd4160c443f894",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "log_inc",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"export\";\n\nif (selectedRow.cod_identificare) {\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 220,
        "wires": [
            [
                "9f10d8e33c45c8dc"
            ]
        ]
    },
    {
        "id": "5c5d815fe8079949",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "log_inc",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"delete\";\n\nif (selectedRow.cod_identificare) {\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 400,
        "wires": [
            [
                "9f10d8e33c45c8dc"
            ]
        ]
    },
    {
        "id": "9ca08777f0c9dd3c",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "log_add",
        "func": "var utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\nvar cv = msg.payload;\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"add\";\n\nmsg.payload.produsul_cod_identificare = cv.cod_identificare;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 680,
        "wires": [
            [
                "2e1e75de7f727ea9"
            ]
        ]
    },
    {
        "id": "2e1e75de7f727ea9",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "link out 13",
        "mode": "link",
        "links": [
            "a46e5825241a3037"
        ],
        "x": 535,
        "y": 680,
        "wires": []
    },
    {
        "id": "5479534c5c73c241",
        "type": "ui_ui_control",
        "z": "e19c6a443441a8be",
        "name": "",
        "events": "change",
        "x": 180,
        "y": 100,
        "wires": [
            [
                "47c53ee0665e6bc6"
            ]
        ]
    },
    {
        "id": "816d2879edbf9653",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "updateNotif",
        "topic": "",
        "name": "Update ok",
        "x": 1050,
        "y": 900,
        "wires": []
    },
    {
        "id": "8f2210939d1d97e2",
        "type": "join",
        "z": "e19c6a443441a8be",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "",
        "joinerType": "str",
        "useparts": false,
        "accumulate": false,
        "timeout": "",
        "count": "4",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 550,
        "y": 920,
        "wires": [
            [
                "a66c809c07d5dfe5"
            ]
        ]
    },
    {
        "id": "b4b8962fbd05eb15",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "noLogin",
        "topic": "",
        "name": "No login",
        "x": 1060,
        "y": 940,
        "wires": []
    },
    {
        "id": "a66c809c07d5dfe5",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 920,
        "wires": [
            [
                "8f3ec8d24aabef15"
            ],
            [
                "e2526b04221a9f88"
            ]
        ]
    },
    {
        "id": "e2526b04221a9f88",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Nu sunteti autentificat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 940,
        "wires": [
            [
                "b4b8962fbd05eb15"
            ]
        ]
    },
    {
        "id": "8f3ec8d24aabef15",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Echipament actualizat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 900,
        "wires": [
            [
                "816d2879edbf9653"
            ]
        ]
    },
    {
        "id": "9496d81b95a50491",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "delete notif",
        "x": 1710,
        "y": 380,
        "wires": []
    },
    {
        "id": "c2968f44264fba7a",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Echipament sters!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 380,
        "wires": [
            [
                "9496d81b95a50491"
            ]
        ]
    },
    {
        "id": "dde374cbb2e05893",
        "type": "template",
        "z": "e19c6a443441a8be",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM RawMaterials;",
        "output": "str",
        "x": 740,
        "y": 260,
        "wires": [
            [
                "691bc05c29ddc08f"
            ]
        ]
    },
    {
        "id": "691bc05c29ddc08f",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 940,
        "y": 260,
        "wires": [
            [
                "3da28619063ef50c"
            ]
        ]
    },
    {
        "id": "3da28619063ef50c",
        "type": "csv",
        "z": "e19c6a443441a8be",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "once",
        "multi": "one",
        "ret": "\\n",
        "temp": "cod_identificare, info, cantitate,  pret, pret_total, categorie",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": "",
        "x": 1090,
        "y": 260,
        "wires": [
            [
                "478e366fb46bf78c"
            ]
        ]
    },
    {
        "id": "478e366fb46bf78c",
        "type": "file",
        "z": "e19c6a443441a8be",
        "name": "",
        "filename": "/data/static/RawMaterials.csv",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1280,
        "y": 260,
        "wires": [
            [
                "3614e511dbec56cb"
            ]
        ]
    },
    {
        "id": "4640a34c6266171f",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"RawMaterials_AddRow\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 820,
        "wires": [
            [
                "a40bf18f24dad492"
            ]
        ]
    },
    {
        "id": "a40bf18f24dad492",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 935,
        "y": 820,
        "wires": []
    },
    {
        "id": "a33c757e9f1883ba",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "UpdateCategorie",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    if (msg.payload.categorie != null) {\n        msg.topic = \"UPDATE RawMaterials SET categorie = $val1 WHERE cod_identificare = $val2 AND info = $val3\";\n        msg.payload = [msg.payload.categorie, selectedRow.cod_identificare, selectedRow.info];\n    }\n    return msg;\n} else {\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 960,
        "wires": [
            [
                "f1bf4cffeebced73",
                "8f2210939d1d97e2",
                "4dbbdca1c9b0d99b"
            ]
        ]
    },
    {
        "id": "5d7333ee267f80af",
        "type": "ui_dropdown",
        "z": "e19c6a443441a8be",
        "name": "Selecteaza categorie",
        "label": "",
        "tooltip": "",
        "place": "Select Categorie",
        "group": "09fb30b629e51b73",
        "order": 2,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "All",
                "value": "All",
                "type": "str"
            },
            {
                "label": "LOGO! 0BA8",
                "value": "LOGO! 0BA8",
                "type": "str"
            },
            {
                "label": "SCALANCE &  IoT",
                "value": "SCALANCE &  IoT",
                "type": "str"
            },
            {
                "label": "SIEMENS RFID",
                "value": "SIEMENS RFID",
                "type": "str"
            },
            {
                "label": "SENTRON",
                "value": "SENTRON",
                "type": "str"
            },
            {
                "label": "SIMATIC S7-1200",
                "value": "SIMATIC S7-1200",
                "type": "str"
            },
            {
                "label": "SIMATIC S7-1500",
                "value": "SIMATIC S7-1500",
                "type": "str"
            },
            {
                "label": "POWER SUPPLY SIEMENS",
                "value": "POWER SUPPLY SIEMENS",
                "type": "str"
            },
            {
                "label": "OTHERS..PAC 3220 IWLAN EDGE",
                "value": "OTHERS..PAC 3220 IWLAN EDGE",
                "type": "str"
            },
            {
                "label": "SIMATIC S7-300",
                "value": "SIMATIC S7-300",
                "type": "str"
            },
            {
                "label": "SIEMENS SINAMICS",
                "value": "SIEMENS SINAMICS",
                "type": "str"
            },
            {
                "label": "LICENTE SOFTWARE SIMATIC",
                "value": "LICENTE SOFTWARE SIMATIC",
                "type": "str"
            },
            {
                "label": "SIMATIC ET-200SP",
                "value": "SIMATIC ET-200SP",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 100,
        "y": 1140,
        "wires": [
            [
                "d05ef3dda25a62b2",
                "3980c00b16935591",
                "94fffef6c019261e"
            ]
        ]
    },
    {
        "id": "7af6a62d9062a93e",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "afisare categorie",
        "func": "msg.topic = \"SELECT * FROM RawMaterials WHERE categorie = $val1;\";\nmsg.payload = [msg.payload];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 1140,
        "wires": [
            [
                "f1c1982537d3df7c"
            ]
        ]
    },
    {
        "id": "f1c1982537d3df7c",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 640,
        "y": 1140,
        "wires": [
            [
                "876628b79e229ace"
            ]
        ]
    },
    {
        "id": "d05ef3dda25a62b2",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "All",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "All",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 270,
        "y": 1140,
        "wires": [
            [
                "7af6a62d9062a93e"
            ],
            [
                "ad243c58105e6bf1"
            ]
        ]
    },
    {
        "id": "ad243c58105e6bf1",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "afisare tot",
        "func": "msg.topic = \"SELECT * FROM RawMaterials;\";\nmsg.payload = [msg.payload];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1180,
        "wires": [
            [
                "f1c1982537d3df7c"
            ]
        ]
    },
    {
        "id": "3614e511dbec56cb",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Export realizat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 220,
        "wires": [
            [
                "dbef20397115eb7a"
            ]
        ]
    },
    {
        "id": "dbef20397115eb7a",
        "type": "ui_toast",
        "z": "e19c6a443441a8be",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "delete notif",
        "x": 1710,
        "y": 180,
        "wires": []
    },
    {
        "id": "502e30c4b16bf73d",
        "type": "http response",
        "z": "e19c6a443441a8be",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1820,
        "y": 600,
        "wires": []
    },
    {
        "id": "e5fd78f0941f1e10",
        "type": "http in",
        "z": "e19c6a443441a8be",
        "name": "",
        "url": "/ui/download/Raw",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1200,
        "y": 600,
        "wires": [
            [
                "9fba66679ae85ea8"
            ]
        ]
    },
    {
        "id": "9fba66679ae85ea8",
        "type": "file in",
        "z": "e19c6a443441a8be",
        "name": "Read CSV File",
        "filename": "/data/static/RawMaterials.csv",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": true,
        "encoding": "none",
        "allProps": false,
        "x": 1400,
        "y": 600,
        "wires": [
            [
                "efe331901aafaa5a"
            ]
        ]
    },
    {
        "id": "efe331901aafaa5a",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Set HTTP Headers",
        "func": "msg.headers = {\n    'Content-Type': 'text/csv',\n    'Content-Disposition': 'attachment; filename=\"RawMaterials.csv\"'\n};\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1610,
        "y": 600,
        "wires": [
            [
                "502e30c4b16bf73d"
            ]
        ]
    },
    {
        "id": "4dbbdca1c9b0d99b",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 470,
        "y": 980,
        "wires": [
            [
                "9aab5f0ac09b783c"
            ],
            []
        ]
    },
    {
        "id": "dbae3be151b19fe6",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "UpdateCod",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\n\nif (utili) {\n    if (msg.payload.cod_identificare != null && msg.payload.cod_identificare !== \"\") {\n        msg.topic = \"UPDATE RawMaterials SET cod_identificare = $val1 WHERE cod_identificare = $val2 AND info = $val3\";\n    \n        selectedRow.cod_identificare = msg.payload.cod_identificare;\n\n        msg.payload = [msg.payload.cod_identificare, selectedRow.cod_identificare, selectedRow.info];\n    \n        return msg;\n    } else {\n        // Dacă info este null sau gol, nu face update pentru acel câmp\n        return null; // Sau returnează msg pentru a nu trimite nimic mai departe\n    }\n} else {\n    msg.payload = null;\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 1000,
        "wires": [
            [
                "4dbbdca1c9b0d99b",
                "8f2210939d1d97e2",
                "f1bf4cffeebced73"
            ]
        ]
    },
    {
        "id": "59d339ce44d81115",
        "type": "ui_text",
        "z": "e19c6a443441a8be",
        "group": "09fb30b629e51b73",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Pret Total",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1000,
        "y": 1240,
        "wires": []
    },
    {
        "id": "46856c2195228ef1",
        "type": "sqlite",
        "z": "e19c6a443441a8be",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 680,
        "y": 1240,
        "wires": [
            [
                "36667e2c02f763a4",
                "975fb8df37068ade"
            ]
        ]
    },
    {
        "id": "36667e2c02f763a4",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "function 23",
        "func": "msg.payload = msg.payload[0][\"SUM(cantitate * pret)\"];\nmsg.payload = msg.payload + \"€\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 1240,
        "wires": [
            [
                "59d339ce44d81115"
            ]
        ]
    },
    {
        "id": "3980c00b16935591",
        "type": "switch",
        "z": "e19c6a443441a8be",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "All",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "All",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 250,
        "y": 1220,
        "wires": [
            [
                "2592598c242abe0d"
            ],
            [
                "4d2e6764976bd0e0"
            ]
        ]
    },
    {
        "id": "19b3f1256747af7e",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Module_Update\"],\"hide\":[\"Module_AddRow\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1650,
        "y": 260,
        "wires": [
            [
                "f253818d9d6204e2",
                "a4ad96d418a22e6f",
                "2b5faed3418c373c"
            ]
        ]
    },
    {
        "id": "ac42f1e1f5e304c7",
        "type": "ui_text",
        "z": "e19c6a443441a8be",
        "group": "ae4b881991a919f1",
        "order": 2,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1940,
        "y": 280,
        "wires": []
    },
    {
        "id": "a4ad96d418a22e6f",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Info",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nmsg.payload = \"Cod de identificare: \" + selectedRow.cod_identificare;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1820,
        "y": 280,
        "wires": [
            [
                "ac42f1e1f5e304c7"
            ]
        ]
    },
    {
        "id": "f253818d9d6204e2",
        "type": "link out",
        "z": "e19c6a443441a8be",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 1785,
        "y": 220,
        "wires": []
    },
    {
        "id": "2b5faed3418c373c",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Preîncărcare formular",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\n\nif (!selectedRow) {\n    return null;\n}\n\nmsg.payload = {\n    cod_identificare: selectedRow.cod_identificare,\n    pret: selectedRow.pret,\n    cantitate: selectedRow.cantitate,\n    info: selectedRow.info,\n    categorie: selectedRow.categorie\n};\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1900,
        "y": 320,
        "wires": [
            [
                "4996a52c3f0e09be"
            ]
        ]
    },
    {
        "id": "2592598c242abe0d",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "afisre sum total",
        "func": "msg.topic = \"SELECT SUM(cantitate * pret) FROM RawMaterials;\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 1220,
        "wires": [
            [
                "46856c2195228ef1"
            ]
        ]
    },
    {
        "id": "4d2e6764976bd0e0",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "afisare sum categorie",
        "func": "msg.topic = \"SELECT SUM(cantitate * pret) FROM RawMaterials WHERE categorie = $val1;\";\nmsg.payload = [msg.payload];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 1260,
        "wires": [
            [
                "46856c2195228ef1"
            ]
        ]
    },
    {
        "id": "73e313fbf0e09121",
        "type": "ui_dropdown",
        "z": "e19c6a443441a8be",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "",
        "group": "ae4b881991a919f1",
        "order": 3,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "LOGO! 0BA8",
                "value": "LOGO! 0BA8",
                "type": "str"
            },
            {
                "label": "SCALANCE &  IoT",
                "value": "SCALANCE &  IoT",
                "type": "str"
            },
            {
                "label": "SIEMENS RFID",
                "value": "SIEMENS RFID",
                "type": "str"
            },
            {
                "label": "SENTRON",
                "value": "SENTRON",
                "type": "str"
            },
            {
                "label": "SIMATIC S7-1200",
                "value": "SIMATIC S7-1200",
                "type": "str"
            },
            {
                "label": "SIMATIC S7-1500",
                "value": "SIMATIC S7-1500",
                "type": "str"
            },
            {
                "label": "POWER SUPPLY SIEMENS",
                "value": "POWER SUPPLY SIEMENS",
                "type": "str"
            },
            {
                "label": "OTHERS..PAC 3220 IWLAN EDGE",
                "value": "OTHERS..PAC 3220 IWLAN EDGE",
                "type": "str"
            },
            {
                "label": "SIMATIC S7-300",
                "value": "SIMATIC S7-300",
                "type": "str"
            },
            {
                "label": "SIEMENS SINAMICS",
                "value": "SIEMENS SINAMICS",
                "type": "str"
            },
            {
                "label": "LICENTE SOFTWARE SIMATIC",
                "value": "LICENTE SOFTWARE SIMATIC",
                "type": "str"
            },
            {
                "label": "SIMATIC ET-200SP",
                "value": "SIMATIC ET-200SP",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "payload",
        "topicType": "msg",
        "className": "",
        "x": 60,
        "y": 960,
        "wires": [
            [
                "7ff6553f3973db7f"
            ]
        ]
    },
    {
        "id": "7ff6553f3973db7f",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Preîncărcare",
        "func": "msg.payload = {\n    categorie: msg.payload\n};\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 70,
        "y": 920,
        "wires": [
            [
                "fe9f106ebdc48522"
            ]
        ]
    },
    {
        "id": "876628b79e229ace",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "Verificare Pret_total",
        "func": "msg.payload.forEach(function(item) {\n    item.pret_total = item.pret * item.cantitate;\n\n    // Verifică și formatează cantitatea\n    if (item.cantitate == 0) {\n        item.cantitate = \"⚠️ 0 ❗\";\n    } else {\n        item.pret_total = (item.pret * item.cantitate).toFixed(2); // Afișează cu 2 zecimale\n    }\n\n    // Verifică și formatează prețul\n    if (item.pret == 0) {\n        item.pret = \"⚠️ 0 ❗\";\n    } else {\n        item.pret_total = (item.pret * item.cantitate).toFixed(2); // Afișează cu 2 zecimale\n    }\n\n    // Verifică dacă pret_total este 0, null sau NaN și setează-l la 0\n    if (isNaN(item.pret_total) || item.pret_total == null || parseFloat(item.pret_total) === 0) {\n        item.pret_total = 0;\n    }\n});\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 540,
        "wires": [
            [
                "09789a97e25426a4"
            ]
        ]
    },
    {
        "id": "975fb8df37068ade",
        "type": "debug",
        "z": "e19c6a443441a8be",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 1340,
        "wires": []
    },
    {
        "id": "daea3c033aeede53",
        "type": "delay",
        "z": "e19c6a443441a8be",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 570,
        "y": 300,
        "wires": [
            [
                "6cd01bd76cd18203"
            ]
        ]
    },
    {
        "id": "4996a52c3f0e09be",
        "type": "delay",
        "z": "e19c6a443441a8be",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1690,
        "y": 480,
        "wires": [
            [
                "fe9f106ebdc48522"
            ]
        ]
    },
    {
        "id": "94fffef6c019261e",
        "type": "change",
        "z": "e19c6a443441a8be",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "structura",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "16ecec71aaafa03c",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "function 28",
        "func": "var structura3 = global.get(\"structura\");\nif (structura3 == \"All\") {\n    msg.topic = \"SELECT * FROM RawMaterials\";\n} else {\n    msg.topic = \"SELECT * FROM RawMaterials WHERE categorie = $val1\";\n    msg.payload = [structura3];\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 540,
        "wires": [
            [
                "410686544028e97d"
            ]
        ]
    },
    {
        "id": "0498ef60560d3182",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "function 29",
        "func": "var structura3 = global.get(\"structura\");\nif (structura3 == \"All\") {\n    msg.topic = \"SELECT * FROM RawMaterials\";\n} else {\n    msg.topic = \"SELECT * FROM RawMaterials WHERE categorie = $val1\";\n    msg.payload = [structura3];\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 720,
        "wires": [
            [
                "589edae163e02e98"
            ]
        ]
    },
    {
        "id": "3782dc2ed28bd1e6",
        "type": "function",
        "z": "e19c6a443441a8be",
        "name": "function 31",
        "func": "var structura3 = flow.get(\"structura\");\nif (structura3 == \"All\") {\n    msg.topic = \"SELECT * FROM RawMaterials\";\n} else {\n    msg.topic = \"SELECT * FROM RawMaterials WHERE categorie = $val1\";\n    msg.payload = [structura3];\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 120,
        "wires": [
            [
                "e65d3bbc2c3e4aaa"
            ]
        ]
    },
    {
        "id": "6c5e6a5944b02fce",
        "type": "ui_ui_control",
        "z": "8baf711668c5d418",
        "name": "",
        "events": "all",
        "x": 60,
        "y": 600,
        "wires": [
            [
                "ace4baa83c73741d"
            ]
        ]
    },
    {
        "id": "ace4baa83c73741d",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "function 9",
        "func": "if (msg.payload == \"connect\" || msg.payload == \"change\" || msg.payload == \"addRow\") \n    return msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 600,
        "wires": [
            [
                "49ed5f80bbc04399"
            ]
        ]
    },
    {
        "id": "49ed5f80bbc04399",
        "type": "delay",
        "z": "8baf711668c5d418",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 340,
        "y": 600,
        "wires": [
            [
                "9b9cd27431cae245"
            ]
        ]
    },
    {
        "id": "835ea3bae7eabb28",
        "type": "ui_form",
        "z": "8baf711668c5d418",
        "name": "",
        "label": "Adauga Echipament",
        "group": "d60fb12b5e131bc6",
        "order": 2,
        "width": 5,
        "height": 1,
        "options": [
            {
                "label": "Nume",
                "value": "nume",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Cod de identificare",
                "value": "cod_identificare",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Cantitate",
                "value": "cantitate",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Pret",
                "value": "pret",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Size",
                "value": "size",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Weight",
                "value": "weight",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Descriere",
                "value": "info",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "nume": "",
            "cod_identificare": "",
            "cantitate": "",
            "pret": "",
            "size": "",
            "weight": "",
            "info": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "",
        "topic": "payload",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 100,
        "y": 780,
        "wires": [
            [
                "0d41072ff08ecb9e",
                "0d45990eefed4ff6",
                "e58a2c665d1c17a9",
                "8a1868f0f1804a23",
                "d6ef25dc693aae93"
            ]
        ]
    },
    {
        "id": "621305559e5d8342",
        "type": "ui_button",
        "z": "8baf711668c5d418",
        "name": "",
        "group": "d60fb12b5e131bc6",
        "order": 3,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Dismiss",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 60,
        "y": 660,
        "wires": [
            [
                "61c419db3971e37c"
            ]
        ]
    },
    {
        "id": "245ca26cc1ccbdb6",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 385,
        "y": 660,
        "wires": []
    },
    {
        "id": "61c419db3971e37c",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Echipamente_AddRow\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 660,
        "wires": [
            [
                "245ca26cc1ccbdb6"
            ]
        ]
    },
    {
        "id": "0d41072ff08ecb9e",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Introducere in baza de date",
        "func": "\nmsg.topic = \"INSERT INTO Echipamente (nume, cod_identificare, cantitate, size, weight, includes, info, pret, pret_total) VALUES ($val1, $val2, $val3, $val4, $val5, $val6, $val7, $val8, $val9)\";\nvar pret_total = msg.payload.cantitate * msg.payload.pret;\nmsg.payload = [msg.payload.nume, msg.payload.cod_identificare, msg.payload.cantitate, msg.payload.size, msg.payload.weight, msg.payload.includes, msg.payload.info, msg.payload.pret, pret_total];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 780,
        "wires": [
            [
                "5e8aaa98f8c4db8b"
            ]
        ]
    },
    {
        "id": "5e8aaa98f8c4db8b",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 570,
        "y": 780,
        "wires": [
            [
                "50fdcbf38dc5768a"
            ]
        ]
    },
    {
        "id": "50fdcbf38dc5768a",
        "type": "template",
        "z": "8baf711668c5d418",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 720,
        "y": 780,
        "wires": [
            [
                "41b7d82f955de78d"
            ]
        ]
    },
    {
        "id": "41b7d82f955de78d",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 870,
        "y": 780,
        "wires": [
            [
                "ca9991c09ecb336c"
            ]
        ]
    },
    {
        "id": "0d45990eefed4ff6",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cv",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 310,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "16a23dc3cd101482",
        "type": "link in",
        "z": "8baf711668c5d418",
        "name": "Reimprospatare",
        "links": [
            "aeda6ac773146ff1",
            "451d7a554d798883",
            "3140dd883450701d",
            "2ef44252b50539cb"
        ],
        "x": 665,
        "y": 540,
        "wires": [
            [
                "ca9991c09ecb336c"
            ]
        ]
    },
    {
        "id": "942d1acc632035fa",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "SelectedRow",
                "pt": "flow",
                "to": "payload",
                "tot": "msg",
                "dc": true
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "be405ede42328f4c",
        "type": "ui_form",
        "z": "8baf711668c5d418",
        "name": "Update",
        "label": "",
        "group": "dc5ad2cffc4b5a3c",
        "order": 3,
        "width": 5,
        "height": 1,
        "options": [
            {
                "label": "Pret",
                "value": "pret",
                "type": "number",
                "required": false,
                "rows": null
            },
            {
                "label": "Cantitate",
                "value": "cantitate",
                "type": "number",
                "required": false,
                "rows": null
            },
            {
                "label": "Descriere",
                "value": "info",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Size",
                "value": "size",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Weight",
                "value": "weight",
                "type": "text",
                "required": false,
                "rows": null
            },
            {
                "label": "Nume",
                "value": "nume",
                "type": "text",
                "required": false,
                "rows": null
            }
        ],
        "formValue": {
            "pret": "",
            "cantitate": "",
            "info": "",
            "size": "",
            "weight": "",
            "nume": ""
        },
        "payload": "",
        "submit": "Update",
        "cancel": "",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "<custom>",
        "x": 100,
        "y": 1040,
        "wires": [
            [
                "ba16334ea416d46c",
                "41c9868664991019",
                "1ddba43567b5c5aa",
                "8cea01fe6a9cd245",
                "8e2903d49769c128",
                "0dcec8f390e93f00"
            ]
        ]
    },
    {
        "id": "85ef3c8c39a29f6b",
        "type": "ui_button",
        "z": "8baf711668c5d418",
        "name": "",
        "group": "dc5ad2cffc4b5a3c",
        "order": 4,
        "width": 5,
        "height": 1,
        "passthru": false,
        "label": "Dismiss",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 60,
        "y": 720,
        "wires": [
            [
                "95ea775bb58362a2"
            ]
        ]
    },
    {
        "id": "95ea775bb58362a2",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Echipamente_Update\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 720,
        "wires": [
            [
                "245ca26cc1ccbdb6"
            ]
        ]
    },
    {
        "id": "ba16334ea416d46c",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "UpdatePret",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\nif (msg.payload.pret != null) {\n    msg.topic = \"UPDATE Echipamente SET pret = $val1, pret_total = $val2 WHERE cod_identificare = $val3 AND info = $val4\";\n    var total = msg.payload.pret * selectedRow.cantitate;\n    \n    selectedRow.pret = msg.payload.pret;\n    selectedRow.pret_total = msg.payload.pret_total;\n\n    msg.payload = [msg.payload.pret, total, selectedRow.cod_identificare, selectedRow.info];\n    \n}\nreturn msg;\n}\nelse {\n    msg.payload = null;\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 1040,
        "wires": [
            [
                "5e8aaa98f8c4db8b",
                "0fa202f0e852cd42",
                "95f7855d9fea364a"
            ]
        ]
    },
    {
        "id": "41c9868664991019",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "UpdateCantitate",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\nif (msg.payload.cantitate != null) {\n    msg.topic = \"UPDATE Echipamente SET cantitate = $val1, pret_total = $val2, nume = $val3 WHERE cod_identificare = $val4 AND info = $val5\";\n    var total = msg.payload.cantitate * selectedRow.pret;\n \n    selectedRow.cantitate = msg.payload.cantitate;\n    selectedRow.pret_total = total;\n \n    msg.payload = [msg.payload.cantitate, total,selectedRow.nume, selectedRow.cod_identificare, selectedRow.info];\n}\n\nreturn msg;\n}\nelse {\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1080,
        "wires": [
            [
                "5e8aaa98f8c4db8b",
                "0fa202f0e852cd42",
                "95f7855d9fea364a"
            ]
        ]
    },
    {
        "id": "1ddba43567b5c5aa",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "UpdateInfo",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\nif (msg.payload.info != null)\n{\n    msg.topic =\"UPDATE Echipamente SET info = $val1 WHERE cod_identificare = $val2 AND info = $val3\";\n    \n    selectedRow.info = msg.payload.info;\n    \n    msg.payload = [msg.payload.info, selectedRow.cod_identificare, selectedRow.info];\n}\nreturn msg;\n}\nelse \n{\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 1120,
        "wires": [
            [
                "5e8aaa98f8c4db8b",
                "0fa202f0e852cd42",
                "95f7855d9fea364a"
            ]
        ]
    },
    {
        "id": "95c38aea06227fc9",
        "type": "ui_template",
        "z": "8baf711668c5d418",
        "group": "1fe46301c9c7358b",
        "name": "esc/click notification",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<script>\n    var escPressed = false;\n\n    function closeAllDialogs() {\n        var dialogs = document.querySelectorAll('md-dialog');\n        dialogs.forEach(function(dialog) {\n            var closeButton = dialog.querySelector('.md-cancel-button');\n            if (closeButton) {\n                closeButton.click();\n            }\n        });\n    }\n\n    document.addEventListener('keydown', function(event) {\n        if (event.key === 'Escape' || event.key === 'Esc') {\n            escPressed = true;\n            closeAllDialogs();\n            resetEscPressed();\n            sendToNodeRed();  // Trimite mesaj către Node-RED\n        }\n    });\n\n    document.addEventListener('click', function(event) {\n        var dialogs = document.querySelectorAll('md-dialog');\n        if (dialogs.length > 0 && !dialogs[0].contains(event.target)) {\n            escPressed = true;\n            closeAllDialogs();\n            resetEscPressed();\n            sendToNodeRed();  // Trimite mesaj către Node-RED\n        }\n    });\n\n    function resetEscPressed() {\n        setTimeout(function() {\n            escPressed = false;\n        }, 500);\n    }\n\n    function sendToNodeRed() {\n        var msg = { payload: \"notificationClosed\" };\n        node.send(msg);  // Trimite mesajul către Node-RED\n    }\n\n    (function(scope) {\n        scope.$watch('msg', function(msg) {\n            if (msg) {\n                // Logica pentru a prelua mesaje din Node-RED\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 100,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "0fa202f0e852cd42",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Echipamente_Update\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 580,
        "y": 1020,
        "wires": [
            [
                "b8d50a49c32419c7"
            ]
        ]
    },
    {
        "id": "b8d50a49c32419c7",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 745,
        "y": 1040,
        "wires": []
    },
    {
        "id": "2dc3703dc7c820ba",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "updateNotif",
        "topic": "",
        "name": "Update ok",
        "x": 1010,
        "y": 1080,
        "wires": []
    },
    {
        "id": "95f7855d9fea364a",
        "type": "join",
        "z": "8baf711668c5d418",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "",
        "joinerType": "str",
        "useparts": false,
        "accumulate": false,
        "timeout": "",
        "count": "6",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 510,
        "y": 1100,
        "wires": [
            [
                "9d6597de6499ded9"
            ]
        ]
    },
    {
        "id": "e58a2c665d1c17a9",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Echipament adaugat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 880,
        "wires": [
            [
                "3d20c48e731a0aaf"
            ]
        ]
    },
    {
        "id": "3d20c48e731a0aaf",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "className": "",
        "topic": "",
        "name": "",
        "x": 550,
        "y": 880,
        "wires": []
    },
    {
        "id": "8a1868f0f1804a23",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "log_add",
        "func": "var utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\nvar cv = msg.payload;\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"add\";\n\nmsg.payload.produsul_nume = cv.nume;\nmsg.payload.produsul_cod_identificare = cv.cod_identificare;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 920,
        "wires": [
            [
                "e89311fdb56f418e"
            ]
        ]
    },
    {
        "id": "e89311fdb56f418e",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "link out 11",
        "mode": "link",
        "links": [
            "1ca94eba05128d56"
        ],
        "x": 395,
        "y": 920,
        "wires": []
    },
    {
        "id": "40d4824aad6d8952",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "noLogin",
        "topic": "",
        "name": "No login",
        "x": 1000,
        "y": 1120,
        "wires": []
    },
    {
        "id": "9d6597de6499ded9",
        "type": "switch",
        "z": "8baf711668c5d418",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 1100,
        "wires": [
            [
                "239ddde670bb3509"
            ],
            [
                "c66be45fb58929b1"
            ]
        ]
    },
    {
        "id": "c66be45fb58929b1",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Nu sunteti autentificat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1120,
        "wires": [
            [
                "40d4824aad6d8952"
            ]
        ]
    },
    {
        "id": "239ddde670bb3509",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Echipament actualizat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1080,
        "wires": [
            [
                "2dc3703dc7c820ba"
            ]
        ]
    },
    {
        "id": "dee54d720903919f",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 495,
        "y": 960,
        "wires": []
    },
    {
        "id": "d6ef25dc693aae93",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Echipamente_AddRow\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 960,
        "wires": [
            [
                "dee54d720903919f"
            ]
        ]
    },
    {
        "id": "6c5b5407291701f5",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Generate Info Message",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar infoMessage = \"<div style='font-family: Verdana, sans-serif; color: #000000;'><div style='margin-top: 20px; padding: 10px; border: 0.5px solid #47464e; border-radius: 30px; background-color: #dcdae8;'>\";\n\nvar keysToDisplay = ['nume', 'cod_identificare', 'cantitate', 'size', 'weight', 'info', 'pret'];\nfor (var key of keysToDisplay) {\n    if (selectedRow.hasOwnProperty(key)) {\n        infoMessage += \"<div style='margin: 5px 0;'><b style='display: inline-block; width: 150px; color: #555;'>\" + key.replace('_', ' ').toUpperCase() + \":</b> \" + selectedRow[key] + \"</div>\";\n    }\n}\ninfoMessage += \"</div></div>\";\n\nmsg.payload = infoMessage;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 360,
        "wires": [
            [
                "e843cebb3f5b514d"
            ]
        ]
    },
    {
        "id": "e843cebb3f5b514d",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Update",
        "cancel": "Dismiss",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "Info Notification",
        "x": 1080,
        "y": 360,
        "wires": [
            [
                "8b1de9fee897636a"
            ]
        ]
    },
    {
        "id": "b0b12abe09b1acf2",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 360,
        "wires": [
            [
                "6c5b5407291701f5"
            ]
        ]
    },
    {
        "id": "8b1de9fee897636a",
        "type": "switch",
        "z": "8baf711668c5d418",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Update",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Dismiss",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 360,
        "wires": [
            [
                "ebbb6630ed28fd1b"
            ],
            []
        ]
    },
    {
        "id": "379f5f1a94aeecf5",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Delete",
        "cancel": "Exit",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "",
        "x": 1070,
        "y": 420,
        "wires": [
            [
                "abc2f5b5317d8094"
            ]
        ]
    },
    {
        "id": "9af783360e30e04e",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 420,
        "wires": [
            [
                "ef73cdc6d2769dd0"
            ]
        ]
    },
    {
        "id": "ef73cdc6d2769dd0",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Generate Delete Message",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar infoMessage = \"<div style='font-family: Verdana, sans-serif; color:#000000;'>\";\n\nif (selectedRow && selectedRow.cod_identificare) {\n    infoMessage += \"<strong>\" + selectedRow.cod_identificare + \"</strong><br>\";  // Adaugă cod_identificare bolduit\n}\n\ninfoMessage += \"Are you sure?\";  // Adaugă restul mesajului\ninfoMessage += \"</div>\";\n\nmsg.payload = infoMessage;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 420,
        "wires": [
            [
                "379f5f1a94aeecf5"
            ]
        ]
    },
    {
        "id": "abc2f5b5317d8094",
        "type": "switch",
        "z": "8baf711668c5d418",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Delete",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Exit",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 420,
        "wires": [
            [
                "13c14f4b0fc80ae5",
                "4d31b2c626a5dfc3"
            ],
            []
        ]
    },
    {
        "id": "13c14f4b0fc80ae5",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "SelectedRow",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 400,
        "wires": [
            [
                "1cd82a83d71e4426"
            ]
        ]
    },
    {
        "id": "fbaa87d1ebe320a8",
        "type": "ui_template",
        "z": "8baf711668c5d418",
        "group": "771f8c2f253ea5e4",
        "name": "css button toolbar",
        "order": 9,
        "width": 0,
        "height": 0,
        "format": "<style>\n    #toolbar-button {\n        width: 120px;\n        /* Lățime mărită */\n        height: 54px;\n        background-color: #208f86 !important;\n        color: white !important;\n        border-radius: 5px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: background-color 0.3s, transform 0.2s ease;\n        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n        padding: 10px 20px;\n        /* Asigură-te că textul este centrat */\n        position: relative;\n        overflow: hidden;\n        border: none;\n        cursor: pointer;\n        font-size: 16px;\n        font-weight: bold;\n    }\n\n    #toolbar-button:hover {\n        background-color: #176e67 !important;\n    }\n\n    #toolbar-button:active {\n        background-color: #03453f!important;\n        transform: scale(0.95);\n    }\n\n    #toolbar-button::after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 20px;\n        height: 20px;\n        background: rgba(255, 255, 255, 0.3);\n        border-radius: 50%;\n        transform: scale(0);\n        transform-origin: center;\n        transition: transform 0.2s ease, width 0.2s ease, height 0.2s ease;\n    }\n\n    #toolbar-button:active::after {\n        transform: scale(5);\n        width: 300%;\n        height: 300%;\n    }\n</style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 250,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "cab734ecb3735060",
        "type": "ui_template",
        "z": "8baf711668c5d418",
        "group": "771f8c2f253ea5e4",
        "name": "toolbar buttons",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope){\n        function removeAllContainers() {\n            let containers = document.querySelectorAll(\".toolbar-container\");\n            containers.forEach(container => container.remove());\n        }\n\n        let tabId = scope.tabId;\n        \n        removeAllContainers();\n\n        let container = document.createElement(\"div\");\n        container.id = tabId;\n        container.className = \"toolbar-container\";\n        container.style.display = \"flex\";\n        container.style.justifyContent = \"center\";\n        container.style.width = \"100%\";\n\n        let btn5 = document.createElement(\"button\");\n        btn5.innerHTML = \"<i class='material-icons'>note_add</i>&nbsp;Add\";\n        btn5.id = \"toolbar-button\";\n        btn5.style.margin = \"5px\";\n        \n        let btn = document.createElement(\"button\");\n        btn.innerHTML = \"<i class='fa fa-plus'></i>&nbsp;Cantitate\";\n        btn.id = \"toolbar-button\";\n        btn.style.margin = \"5px\";\n\n        let btn2 = document.createElement(\"button\");\n        btn2.innerHTML = \"<i class='fa fa-minus'></i>&nbsp;Cantitate\";\n        btn2.id = \"toolbar-button\";\n        btn2.style.margin = \"5px\";\n\n        let btn3 = document.createElement(\"button\");\n        btn3.innerHTML = \"<i class='fa fa-download'></i>&nbsp;Export\";\n        btn3.id = \"toolbar-button\";\n        btn3.style.margin = \"5px\";\n\n        let btn4 = document.createElement(\"button\");\n        btn4.innerHTML = \"<i class='fa fa-info-circle'></i>&nbsp;Descriere\";\n        btn4.id = \"toolbar-button\";\n        btn4.style.margin = \"5px\";\n\n        let btn6 = document.createElement(\"button\");\n        btn6.innerHTML = \"<i class='fa fa-trash-o'></i>&nbsp;Delete\";\n        btn6.id = \"toolbar-button\";\n        btn6.style.margin = \"5px\";\n\n        container.appendChild(btn5);\n        container.appendChild(btn);\n        container.appendChild(btn2);\n        container.appendChild(btn3);\n        container.appendChild(btn4);\n        container.appendChild(btn6);\n\n        let obj = document.querySelector(\".md-toolbar-tools\");\n        obj.appendChild(container);\n\n        btn5.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"add\"});\n        });\n\n        btn.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"increment\"});\n        });\n        \n        btn2.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"decrement\"});\n        });\n\n        btn3.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"export\"});\n            window.location.href = 'download';\n        });\n\n        btn4.addEventListener(\"click\", ()=> {\n            scope.send({payload: \"info\"});\n        });\n\n        btn6.addEventListener(\"click\", () => {\n            scope.send({payload: \"delete\"});\n        });\n\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 240,
        "y": 160,
        "wires": [
            [
                "1e6160ad46171e11"
            ]
        ]
    },
    {
        "id": "1e6160ad46171e11",
        "type": "switch",
        "z": "8baf711668c5d418",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "add",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "increment",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "decrement",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "export",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "info",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "delete",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 450,
        "y": 160,
        "wires": [
            [
                "05867d8abce3750a",
                "bd1289dd42cb707c"
            ],
            [
                "ab376dd7d5df2c6f",
                "46d30556c1cddd93",
                "ee01234d33351402"
            ],
            [
                "f0d7533c9e936053",
                "0b4b2e04f2a0eebf"
            ],
            [
                "4933b03962f99716",
                "8ee9a61ec6d8199d"
            ],
            [
                "d852c96cc1a828de"
            ],
            [
                "9af783360e30e04e",
                "ef8d3160ab34c196"
            ]
        ]
    },
    {
        "id": "05867d8abce3750a",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "command",
                "pt": "flow",
                "to": "addRow",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "bd1289dd42cb707c",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Echipamente_AddRow\"],\"hide\":[\"Echipamente_Update\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 120,
        "wires": [
            [
                "410f56517a817a1f"
            ]
        ]
    },
    {
        "id": "410f56517a817a1f",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 895,
        "y": 120,
        "wires": []
    },
    {
        "id": "ab376dd7d5df2c6f",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "increment",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    msg.topic = \"UPDATE Echipamente SET cantitate = $val1, pret_total = $val2 WHERE cod_identificare = $val3 AND info = $val4\";\n    var cantitate_noua = selectedRow.cantitate + 1;\n    var total = cantitate_noua * selectedRow.pret;\n    selectedRow.cantitate = selectedRow.cantitate + 1;\n    flow.set(\"SelectedRow\", selectedRow);\n    msg.payload = [cantitate_noua, total, selectedRow.cod_identificare, selectedRow.info];\n    return msg;\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 160,
        "wires": [
            [
                "0b2c1c8a96166cb7",
                "15bcb23154fb1cf1"
            ]
        ]
    },
    {
        "id": "f0d7533c9e936053",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "decrement",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    msg.topic = \"UPDATE Echipamente SET cantitate = $val1, pret_total = $val2 WHERE cod_identificare = $val3 AND info = $val4\";\n    var cantitate_noua = selectedRow.cantitate - 1;\n    var total = cantitate_noua * selectedRow.pret;\n    selectedRow.cantitate = selectedRow.cantitate - 1;\n    flow.set(\"SelectedRow\", selectedRow);\n    msg.payload = [cantitate_noua, total, selectedRow.cod_identificare, selectedRow.info];\n    return msg;\n} else {\n        return null;\n    }\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 200,
        "wires": [
            [
                "0b2c1c8a96166cb7"
            ]
        ]
    },
    {
        "id": "0b2c1c8a96166cb7",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 850,
        "y": 180,
        "wires": [
            [
                "24d3d868e44798a1"
            ]
        ]
    },
    {
        "id": "24d3d868e44798a1",
        "type": "template",
        "z": "8baf711668c5d418",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 1020,
        "y": 180,
        "wires": [
            [
                "8d5a323c84a11728"
            ]
        ]
    },
    {
        "id": "8d5a323c84a11728",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 1170,
        "y": 180,
        "wires": [
            [
                "2ef44252b50539cb"
            ]
        ]
    },
    {
        "id": "2ef44252b50539cb",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "16a23dc3cd101482"
        ],
        "x": 1285,
        "y": 180,
        "wires": []
    },
    {
        "id": "46d30556c1cddd93",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "log_inc",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"increment 1\";\n\nif (selectedRow.nume && selectedRow.cod_identificare) {\n    msg.payload.produsul_nume = selectedRow.nume;\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 140,
        "wires": [
            [
                "9cf788e4b0e234cb"
            ]
        ]
    },
    {
        "id": "0b4b2e04f2a0eebf",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "log_dec",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"decrement 1\";\n\nif (selectedRow.nume && selectedRow.cod_identificare) {\n    msg.payload.produsul_nume = selectedRow.nume;\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 240,
        "wires": [
            [
                "9cf788e4b0e234cb"
            ]
        ]
    },
    {
        "id": "9cf788e4b0e234cb",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "1ca94eba05128d56"
        ],
        "x": 1115,
        "y": 140,
        "wires": []
    },
    {
        "id": "4933b03962f99716",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "export",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"Export\";\n\nif (selectedRow.nume && selectedRow.cod_identificare) {\n    msg.payload.produsul_nume = selectedRow.nume;\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 280,
        "wires": [
            [
                "9cf788e4b0e234cb"
            ]
        ]
    },
    {
        "id": "ef8d3160ab34c196",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "log_dec",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nvar data1 = global.get(\"DATE\");\n\n// if (!selectedRow || !utili || !data1) {\n//     node.error(\"One or more variables are undefined or null\", msg);\n//     return null;\n// }\n\nmsg.payload = {}; \n\nmsg.payload.nume_util = utili;\nmsg.payload.data = data1;\nmsg.payload.actiunea = \"delete\";\n\nif (selectedRow.nume && selectedRow.cod_identificare) {\n    msg.payload.produsul_nume = selectedRow.nume;\n    msg.payload.produsul_cod_identificare = selectedRow.cod_identificare;\n} else {\n    node.error(\"SelectedRow is missing 'nume' or 'cod_identificare'\", msg);\n    return null;\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 460,
        "wires": [
            [
                "9cf788e4b0e234cb"
            ]
        ]
    },
    {
        "id": "53f2b6950a92f309",
        "type": "ui_ui_control",
        "z": "8baf711668c5d418",
        "name": "",
        "events": "change",
        "x": 60,
        "y": 160,
        "wires": [
            [
                "cab734ecb3735060"
            ]
        ]
    },
    {
        "id": "e4712eccef3d9c62",
        "type": "file",
        "z": "8baf711668c5d418",
        "name": "",
        "filename": "/data/static/Echipamente.csv",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1160,
        "y": 320,
        "wires": [
            [
                "3ca6770acd6c02f5"
            ]
        ]
    },
    {
        "id": "8ee9a61ec6d8199d",
        "type": "template",
        "z": "8baf711668c5d418",
        "name": "Afisare",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 620,
        "y": 320,
        "wires": [
            [
                "da55f954d0e1c845"
            ]
        ]
    },
    {
        "id": "da55f954d0e1c845",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 810,
        "y": 320,
        "wires": [
            [
                "d3853a867af87ed4"
            ]
        ]
    },
    {
        "id": "d3853a867af87ed4",
        "type": "csv",
        "z": "8baf711668c5d418",
        "name": "",
        "sep": ",",
        "hdrin": "",
        "hdrout": "once",
        "multi": "one",
        "ret": "\\n",
        "temp": "nume, cod_identificare, cantitate, size, weight, includes, info, pret, pret_total",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": "",
        "x": 970,
        "y": 320,
        "wires": [
            [
                "e4712eccef3d9c62"
            ]
        ]
    },
    {
        "id": "4d31b2c626a5dfc3",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Echipament sters!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 460,
        "wires": [
            [
                "67b66749ce7a586b"
            ]
        ]
    },
    {
        "id": "3ca6770acd6c02f5",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Export realizat!",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 280,
        "wires": [
            [
                "a116f774f9a6c82d"
            ]
        ]
    },
    {
        "id": "a116f774f9a6c82d",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "delete notif",
        "x": 1590,
        "y": 240,
        "wires": []
    },
    {
        "id": "1cd82a83d71e4426",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "96c2743824f21630"
        ],
        "x": 1515,
        "y": 400,
        "wires": []
    },
    {
        "id": "67b66749ce7a586b",
        "type": "ui_toast",
        "z": "8baf711668c5d418",
        "position": "top right",
        "displayTime": "5",
        "highlight": "",
        "sendall": false,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": true,
        "className": "",
        "topic": "",
        "name": "delete notif",
        "x": 1550,
        "y": 460,
        "wires": []
    },
    {
        "id": "b280b792c23df8ed",
        "type": "http response",
        "z": "8baf711668c5d418",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 1600,
        "y": 700,
        "wires": []
    },
    {
        "id": "210b4813aaa049a7",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Set HTTP Headers",
        "func": "msg.headers = {\n    'Content-Type': 'text/csv',\n    'Content-Disposition': 'attachment; filename=\"Echipamente.csv\"'\n};\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 700,
        "wires": [
            [
                "b280b792c23df8ed"
            ]
        ]
    },
    {
        "id": "dde29f42743df912",
        "type": "file in",
        "z": "8baf711668c5d418",
        "name": "Read CSV File",
        "filename": "/data/static/Echipamente.csv",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": true,
        "encoding": "none",
        "allProps": false,
        "x": 1180,
        "y": 700,
        "wires": [
            [
                "210b4813aaa049a7"
            ]
        ]
    },
    {
        "id": "26d2d6b0496838a0",
        "type": "http in",
        "z": "8baf711668c5d418",
        "name": "",
        "url": "/ui/download",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1000,
        "y": 700,
        "wires": [
            [
                "dde29f42743df912"
            ]
        ]
    },
    {
        "id": "8cea01fe6a9cd245",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "UpdateSize",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    if (msg.payload.size != null) {\n        msg.topic = \"UPDATE Echipamente SET size = $val1 WHERE cod_identificare = $val2 AND info = $val3\";\n\n        selectedRow.size = msg.payload.size;\n\n        msg.payload = [msg.payload.size, selectedRow.cod_identificare, selectedRow.info];\n    }\n    return msg;\n}\nelse {\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 1160,
        "wires": [
            [
                "0fa202f0e852cd42",
                "95f7855d9fea364a",
                "5e8aaa98f8c4db8b"
            ]
        ]
    },
    {
        "id": "8e2903d49769c128",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "UpdateWeight",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    if (msg.payload.weight != null) {\n        msg.topic = \"UPDATE Echipamente SET weight = $val1 WHERE cod_identificare = $val2 AND info = %val3\";\n\n        selectedRow.weight = msg.payload.weight;\n\n        msg.payload = [msg.payload.weight, selectedRow.cod_identificare, selectedRow.info];\n    }\n    return msg;\n}\nelse {\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1200,
        "wires": [
            [
                "95f7855d9fea364a",
                "0fa202f0e852cd42",
                "5e8aaa98f8c4db8b"
            ]
        ]
    },
    {
        "id": "0dcec8f390e93f00",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "UpdateNume",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nvar utili = global.get(\"Account_logged\");\nif (utili) {\n    if (msg.payload.nume != null) {\n        msg.topic = \"UPDATE Echipamente SET nume = $val1 WHERE cod_identificare = $val2 AND info = $val3\";\n\n        selectedRow.nume = msg.payload.nume;\n\n        msg.payload = [msg.payload.nume, selectedRow.cod_identificare, selectedRow.info];\n    }\n    return msg;\n}\nelse {\n    msg.payload = null;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 1240,
        "wires": [
            [
                "95f7855d9fea364a",
                "0fa202f0e852cd42",
                "5e8aaa98f8c4db8b"
            ]
        ]
    },
    {
        "id": "9b9cd27431cae245",
        "type": "template",
        "z": "8baf711668c5d418",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Echipamente;",
        "output": "str",
        "x": 480,
        "y": 600,
        "wires": [
            [
                "a574ef8e63988429"
            ]
        ]
    },
    {
        "id": "a574ef8e63988429",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Echipamente;",
        "name": "Echipamente",
        "x": 630,
        "y": 600,
        "wires": [
            [
                "ca9991c09ecb336c"
            ]
        ]
    },
    {
        "id": "ca9991c09ecb336c",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Verificare Nume",
        "func": "msg.payload.forEach(function (item) {\n    if (!item.nume || item.nume.trim() === '') {\n        item.nume = item.info;\n    }\n\n    if (item.cantitate == 0) {\n        item.cantitate = \"⚠️ 0 ❗\"; \n    }\n\n    if (item.pret == 0) {\n        item.pret = \"⚠️ 0 ❗\";\n    } else {\n        item.pret_total = (item.pret * item.cantitate).toFixed(2);\n    }\n\n    if (item.pret_total === \"NaN\" || item.pret_total == null || parseFloat(item.pret_total) === 0) {\n        item.pret_total = 0;\n    }\n});\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 600,
        "wires": [
            [
                "65e67101752d0a4c"
            ]
        ]
    },
    {
        "id": "6bff63343805a5d7",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Info",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\nmsg.payload = \"Cod de identificare: \" + selectedRow.cod_identificare;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 340,
        "wires": [
            [
                "5ff42178db260d21"
            ]
        ]
    },
    {
        "id": "ebbb6630ed28fd1b",
        "type": "change",
        "z": "8baf711668c5d418",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Echipamente_Update\"],\"hide\":[\"Echipamente_AddRow\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 340,
        "wires": [
            [
                "6bff63343805a5d7",
                "19fa9cd8192d026f",
                "39e2bf32ef0fee96"
            ]
        ]
    },
    {
        "id": "39e2bf32ef0fee96",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "Preîncărcare formular",
        "func": "var selectedRow = flow.get(\"SelectedRow\");\n\nif (!selectedRow) {\n    return null; // Sau trimite un mesaj de eroare/logging\n}\n\nmsg.payload = {\n    pret: selectedRow.pret || '',\n    cantitate: selectedRow.cantitate || '',\n    info: selectedRow.info || '',\n    size: selectedRow.size || '',\n    weight: selectedRow.weight || '',\n    nume: selectedRow.nume || ''\n};\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1680,
        "y": 380,
        "wires": [
            [
                "710605e14ec173a4"
            ]
        ]
    },
    {
        "id": "5ff42178db260d21",
        "type": "ui_text",
        "z": "8baf711668c5d418",
        "group": "dc5ad2cffc4b5a3c",
        "order": 2,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1780,
        "y": 340,
        "wires": []
    },
    {
        "id": "19fa9cd8192d026f",
        "type": "link out",
        "z": "8baf711668c5d418",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 1625,
        "y": 280,
        "wires": []
    },
    {
        "id": "d00d802d7a22ea76",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "afisare sum total",
        "func": "msg.topic = \"SELECT SUM(cantitate * pret) FROM Echipamente;\"; \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1380,
        "wires": [
            [
                "87a29fc229cf60d7"
            ]
        ]
    },
    {
        "id": "87a29fc229cf60d7",
        "type": "sqlite",
        "z": "8baf711668c5d418",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 570,
        "y": 1380,
        "wires": [
            [
                "bb34b8c192aaf510"
            ]
        ]
    },
    {
        "id": "bb34b8c192aaf510",
        "type": "function",
        "z": "8baf711668c5d418",
        "name": "function 27",
        "func": "msg.payload = msg.payload[0][\"SUM(cantitate * pret)\"];\nmsg.payload = msg.payload + \"€\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1380,
        "wires": [
            [
                "6794d8b017ee0de5"
            ]
        ]
    },
    {
        "id": "6794d8b017ee0de5",
        "type": "ui_text",
        "z": "8baf711668c5d418",
        "group": "771f8c2f253ea5e4",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Pret Total",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 900,
        "y": 1380,
        "wires": []
    },
    {
        "id": "70581c2b1e0faab1",
        "type": "inject",
        "z": "8baf711668c5d418",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 1380,
        "wires": [
            [
                "d00d802d7a22ea76"
            ]
        ]
    },
    {
        "id": "65e67101752d0a4c",
        "type": "ui_etable",
        "z": "8baf711668c5d418",
        "payload": "[{\"title\":\"Cod\",\"field\":\"cod_identificare\",\"width\":\"15%\"},{\"title\":\"Nume\",\"field\":\"nume\",\"width\":\"53%\"},{\"title\":\"Pret unitar\",\"field\":\"pret\",\"width\":\"12%\"},{\"title\":\"Cantitate\",\"field\":\"cantitate\",\"width\":\"10%\"},{\"title\":\"Pret total\",\"field\":\"pret_total\",\"width\":\"10%\"}]",
        "payloadType": "json",
        "options": "{\"movableColumns\":true,\"resizableColumns\":true,\"selectable\":1,\"responsiveLayout\":\"collapse\",\"autoResize\":true,\"layout\":\"fitColumns\",\"pagination\":\"local\",\"height\":\"100%\"}",
        "group": "771f8c2f253ea5e4",
        "name": "",
        "order": 8,
        "width": 22,
        "height": 12,
        "columns": [],
        "outputs": 1,
        "cts": false,
        "x": 950,
        "y": 600,
        "wires": [
            [
                "942d1acc632035fa"
            ]
        ]
    },
    {
        "id": "d852c96cc1a828de",
        "type": "delay",
        "z": "8baf711668c5d418",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 430,
        "y": 360,
        "wires": [
            [
                "b0b12abe09b1acf2"
            ]
        ]
    },
    {
        "id": "710605e14ec173a4",
        "type": "delay",
        "z": "8baf711668c5d418",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1510,
        "y": 580,
        "wires": [
            [
                "be405ede42328f4c"
            ]
        ]
    },
    {
        "id": "15bcb23154fb1cf1",
        "type": "debug",
        "z": "8baf711668c5d418",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 80,
        "wires": []
    },
    {
        "id": "ee01234d33351402",
        "type": "debug",
        "z": "8baf711668c5d418",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 20,
        "wires": []
    },
    {
        "id": "f8065f04c8f89aa4",
        "type": "ui_etable",
        "z": "3ebe60f6358ce5c6",
        "payload": "[{\"title\":\"Utilizator\",\"field\":\"nume_util\",\"width\":\"10%\"},{\"title\":\"Data\",\"field\":\"data\",\"width\":\"20%\"},{\"title\":\"Actiune\",\"field\":\"actiunea\",\"width\":\"15%\"},{\"title\":\"Nume Produs\",\"field\":\"produsul_nume\",\"width\":\"40%\"},{\"title\":\"Cod Produs\",\"field\":\"produsul_cod_identificare\",\"width\":\"15%\"}]",
        "payloadType": "json",
        "options": "{\"movableColumns\":true,\"resizableColumns\":true,\"selectable\":1,\"responsiveLayout\":\"collapse\",\"autoResize\":true,\"layout\":\"fitColumns\",\"pagination\":\"local\",\"height\":\"100%\"}",
        "group": "e80a97623b98a46b",
        "name": "",
        "order": 5,
        "width": 22,
        "height": 9,
        "columns": [],
        "outputs": 1,
        "cts": false,
        "x": 910,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "b255e914dfebb975",
        "type": "ui_template",
        "z": "3ebe60f6358ce5c6",
        "group": "e80a97623b98a46b",
        "name": "toolbar",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope){\n        // Funcție pentru a ascunde și elimina toate containerele existente\n        function removeAllContainers() {\n            let containers = document.querySelectorAll(\".toolbar-container\");\n            containers.forEach(container => container.remove());\n        }\n\n        // Definirea containerului pentru fiecare tab\n        let tabId = scope.tabId; // presupun că ai o variabilă care ține tabul curent\n        \n        // Înainte de a crea un nou container, elimină-le pe toate existente\n        removeAllContainers();\n\n\n\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 910,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "ea77eafed34105aa",
        "type": "ui_ui_control",
        "z": "3ebe60f6358ce5c6",
        "name": "",
        "events": "all",
        "x": 120,
        "y": 340,
        "wires": [
            [
                "1b048c802e285741"
            ]
        ]
    },
    {
        "id": "1b048c802e285741",
        "type": "function",
        "z": "3ebe60f6358ce5c6",
        "name": "function 13",
        "func": "if (msg.payload == \"connect\" || msg.payload == \"change\" || msg.payload == \"addRow\") \n    return msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 340,
        "wires": [
            [
                "29c08b56f9161010"
            ]
        ]
    },
    {
        "id": "29c08b56f9161010",
        "type": "delay",
        "z": "3ebe60f6358ce5c6",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 420,
        "y": 340,
        "wires": [
            [
                "ee3dd7ef524c99b9"
            ]
        ]
    },
    {
        "id": "ee3dd7ef524c99b9",
        "type": "template",
        "z": "3ebe60f6358ce5c6",
        "name": "",
        "field": "topic",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "SELECT * FROM Istoric;",
        "output": "str",
        "x": 560,
        "y": 340,
        "wires": [
            [
                "f1a0df9b9466b794"
            ]
        ]
    },
    {
        "id": "70f0881b382bf288",
        "type": "link in",
        "z": "3ebe60f6358ce5c6",
        "name": "reimprospatare istoric",
        "links": [
            "8e7b211abf7edb0f",
            "0f374c231fb1a0b3",
            "603ad398579b67c2"
        ],
        "x": 805,
        "y": 300,
        "wires": [
            [
                "f8065f04c8f89aa4"
            ]
        ]
    },
    {
        "id": "f1a0df9b9466b794",
        "type": "sqlite",
        "z": "3ebe60f6358ce5c6",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 710,
        "y": 340,
        "wires": [
            [
                "f8065f04c8f89aa4"
            ]
        ]
    },
    {
        "id": "648198f6cc5cd6ac",
        "type": "moment",
        "z": "3ebe60f6358ce5c6",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "Africa/Abidjan",
        "adjAmount": "3",
        "adjType": "hours",
        "adjDir": "add",
        "format": "",
        "locale": "en-US",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Europe/Bucharest",
        "x": 490,
        "y": 420,
        "wires": [
            [
                "fb99545b6283adb1"
            ]
        ]
    },
    {
        "id": "2412cbd8db4201c7",
        "type": "inject",
        "z": "3ebe60f6358ce5c6",
        "name": "",
        "props": [],
        "repeat": "10",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 110,
        "y": 420,
        "wires": [
            [
                "a105827cd71d0ecf"
            ]
        ]
    },
    {
        "id": "a105827cd71d0ecf",
        "type": "change",
        "z": "3ebe60f6358ce5c6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "iso",
                "tot": "date"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 270,
        "y": 420,
        "wires": [
            [
                "648198f6cc5cd6ac"
            ]
        ]
    },
    {
        "id": "fb99545b6283adb1",
        "type": "function",
        "z": "3ebe60f6358ce5c6",
        "name": "setare timp permanent",
        "func": "global.set(\"DATE\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "f1db033a5afec1df",
        "type": "ui_form",
        "z": "7f0d891124837be9",
        "g": "0b1bc2c0407b45f4",
        "name": "",
        "label": "",
        "group": "8b4b273e146c1f63",
        "order": 1,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "Nume",
                "value": "nume",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Parola",
                "value": "parola",
                "type": "password",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "nume": "",
            "parola": ""
        },
        "payload": "",
        "submit": "Login",
        "cancel": "",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 450,
        "y": 140,
        "wires": [
            [
                "298c96b42d35572d"
            ]
        ]
    },
    {
        "id": "98938fcbfc91e842",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "group": "1fe46301c9c7358b",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n.nr-dashboard-cardpanel {\n    all: unset;\n    display: flex;\n    flex-direction: column;\n    \n    border-radius: 12px; \n    \n    background-color: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    padding: 16px;\n}\n\n.nr-dashboard-cardpanel * {\n    all: unset;\n}\n\n.nr-dashboard-cardpanel .nr-dashboard-cardtitle {\n    font-size: 1.25rem;\n    font-weight: bold;\n    color: #333;\n}\n\n.nr-dashboard-cardpanel .nr-dashboard-form-button {\n    background-color: #007BFF;\n    color: #ffffff;\n    border: none;\n    border-radius: 8px;\n    padding: 8px 16px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n}\n\n.nr-dashboard-cardpanel .nr-dashboard-form-button:hover {\n    background-color: #0056b3;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 260,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "cfbda8c87763c0d4",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "0b1bc2c0407b45f4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 140,
        "wires": [
            [
                "f1db033a5afec1df"
            ]
        ]
    },
    {
        "id": "cdcd7cedaa6c2e57",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "group": "8b4b273e146c1f63",
        "name": "Login Tab",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope) {\n        scope.$watch('msg', function(data) {\n            var elem = document.getElementById(\"headerStatus\")\n            if(elem !== null) {\n                elem.className = data.payload;\n                elem.innerHTML = data.payload;\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 660,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "0e6828d30bf1a4c7",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "group": "7f9380cd09d9f4cb",
        "name": "Header Status",
        "order": 2,
        "width": "0",
        "height": "0",
        "format": "<style>\n    #headerStatus {\n        font-weight: bold;\n        text-transform: uppercase;\n    }\n    #headerStatus.online {\n        color: lime;\n    }\n    #headerStatus.offline {\n        color: tomato;\n    }\n</style>\n\n<script id=\"titleScript\" type=\"text/javascript\">\n$(function() {\n    if($('.md-toolbar-tools').length){\n        initHeader();\n    } else setTimeout(initHeader, 500)\n});\n\nfunction initHeader(){\n    if (!$('#headerStatus').length) {\n        var toolbar = $('.md-toolbar-tools');\n        var div = $('<div/>');\n        var p = $('<p id=\"headerStatus\" />');\n        div[0].style.margin = '5px 5px 5px auto';\n        div.append(p);\n        toolbar.append(div);\n    }\n}\n</script>",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "global",
        "className": "",
        "x": 280,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "19912c5b0d037805",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "verificare logare",
        "func": "var valoare = global.get(\"logat\");\nvar register = global.get(\"register\");\nvar nume = global.get(\"Account_logged\");\n\nif (valoare == 1) {\n    if (register == 0) { \n        msg.payload = nume;\n    } else {\n        msg.payload = \"No User\"\n    }\n} else {\n    msg.payload = \"No user\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 620,
        "wires": [
            [
                "66ec280695f56a08"
            ]
        ]
    },
    {
        "id": "2bf69433b9210cc1",
        "type": "inject",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 290,
        "y": 620,
        "wires": [
            [
                "19912c5b0d037805"
            ]
        ]
    },
    {
        "id": "298c96b42d35572d",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "0b1bc2c0407b45f4",
        "name": "date logare",
        "mode": "link",
        "links": [
            "edb85d685b5a3b0b",
            "83296576e88e630b"
        ],
        "x": 545,
        "y": 140,
        "wires": []
    },
    {
        "id": "65f4b09946c30545",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "group": "771f8c2f253ea5e4",
        "name": "Echipamente Tab",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope) {\n        scope.$watch('msg', function(data) {\n            var elem = document.getElementById(\"headerStatus\")\n            if(elem !== null) {\n                elem.className = data.payload;\n                elem.innerHTML = data.payload;\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 690,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "977abe417233596d",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "group": "09fb30b629e51b73",
        "name": "RawMaterialsTab",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope) {\n        scope.$watch('msg', function(data) {\n            var elem = document.getElementById(\"headerStatus\")\n            if(elem !== null) {\n                elem.className = data.payload;\n                elem.innerHTML = data.payload;\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 690,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "257a5095481f8106",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Login_LogOut\"],\"hide\":[\"Login_form\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1060,
        "y": 580,
        "wires": [
            [
                "e2d1e6c0ebdae3a7"
            ]
        ]
    },
    {
        "id": "e2d1e6c0ebdae3a7",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "disparitie login",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 1185,
        "y": 580,
        "wires": []
    },
    {
        "id": "05d22782d26394eb",
        "type": "ui_button",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "group": "1953fca633441d6c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Log Out",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-sign-out",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 620,
        "y": 360,
        "wires": [
            [
                "54723a73ecc3fb1b",
                "5dd0273dfcac1efe"
            ]
        ]
    },
    {
        "id": "f9da4ebe7edce9dd",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "group": "1953fca633441d6c",
        "name": "Login Tab",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope) {\n        scope.$watch('msg', function(data) {\n            var elem = document.getElementById(\"headerStatus\")\n            if(elem !== null) {\n                elem.className = data.payload;\n                elem.innerHTML = data.payload;\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 800,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "54723a73ecc3fb1b",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Login_LogOut\"],\"show\":[\"Login_form\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 360,
        "wires": [
            [
                "315966a1b7913f63"
            ]
        ]
    },
    {
        "id": "315966a1b7913f63",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "disparitie login",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 975,
        "y": 360,
        "wires": []
    },
    {
        "id": "5dd0273dfcac1efe",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "function 11",
        "func": "global.set(\"logat\", 0);\nglobal.set(\"Account_logged\", null);\nglobal.set(\"register\", 0);\nglobal.set(\"log_in_time\", \"0\");\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "263d998af1a240f1",
        "type": "ui_form",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "",
        "label": "",
        "group": "ccd373741b2a4358",
        "order": 6,
        "width": 6,
        "height": 1,
        "options": [
            {
                "label": "Nume",
                "value": "nume",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Parola",
                "value": "parola",
                "type": "password",
                "required": true,
                "rows": null
            },
            {
                "label": "Repeta Parola",
                "value": "parola2",
                "type": "password",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "nume": "",
            "parola": "",
            "parola2": ""
        },
        "payload": "",
        "submit": "submit",
        "cancel": "",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 850,
        "y": 220,
        "wires": [
            [
                "02e9aea0f6a5b6e0",
                "1907663ac295973c",
                "85785a41366fa57f"
            ]
        ]
    },
    {
        "id": "e238b762e6b7af1f",
        "type": "ui_button",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "",
        "group": "ccd373741b2a4358",
        "order": 1,
        "width": 6,
        "height": 1,
        "passthru": false,
        "label": "Dismiss",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "className": "",
        "icon": "fa-trash",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 700,
        "y": 260,
        "wires": [
            [
                "8afde77105b829d0"
            ]
        ]
    },
    {
        "id": "950cedd2ce816442",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Login_SignIn\"],\"show\":[\"Login_form\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "3d9dc77f60762111"
            ]
        ]
    },
    {
        "id": "3d9dc77f60762111",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 1165,
        "y": 260,
        "wires": []
    },
    {
        "id": "02e9aea0f6a5b6e0",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "verf password",
        "func": "if (msg.payload.parola == msg.payload.parola2) {\n    var nume = msg.payload.nume;     \n    var parola = msg.payload.parola; \n\n    msg.payload = {\n        \"nume\": nume,\n        \"parola\": parola\n};\n\nreturn msg;\n\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 220,
        "wires": [
            [
                "dd70a003053acb18"
            ]
        ]
    },
    {
        "id": "dd70a003053acb18",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "apel Register",
        "mode": "link",
        "links": [
            "120a46c7790d74a5",
            "f0714fcdc6e08426"
        ],
        "x": 1135,
        "y": 220,
        "wires": []
    },
    {
        "id": "2bc3728aca041204",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "group": "ccd373741b2a4358",
        "name": "Login Tab",
        "order": 4,
        "width": 2,
        "height": 1,
        "format": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Toolbar Message</title>\n    <style>\n        .md-toolbar-tools {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 100%;\n        }\n\n        #headerStatus {\n            margin-left: auto;\n            /* Mută elementul spre dreapta */\n            padding: 0 10px;\n        }\n    </style>\n</head>\n\n<body>\n    <div class=\"md-toolbar-tools\">\n        <!-- Alte elemente din toolbar -->\n        <div id=\"headerStatus\"></div>\n    </div>\n\n    <script>\n        (function(scope) {\n            scope.$watch('msg', function(data) {\n                var elem = document.getElementById(\"headerStatus\");\n                if (elem !== null) {\n                    elem.className = data.payload;\n                    elem.innerHTML = data.payload;\n                } else {\n                    // Creează elementul dacă nu există\n                    elem = document.createElement(\"div\");\n                    elem.id = \"headerStatus\";\n                    elem.className = data.payload;\n                    elem.innerHTML = data.payload;\n                    // Adaugă elementul în toolbar\n                    var toolbar = document.querySelector(\".md-toolbar-tools\");\n                    toolbar.appendChild(elem);\n                }\n            });\n        })(scope);\n    </script>\n</body>\n\n</html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 960,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "58dc8a37734161f5",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "group": "8b4b273e146c1f63",
        "name": "toolbar sterge container existent",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope){\n        function removeAllContainers() {\n            let containers = document.querySelectorAll(\".toolbar-container\");\n            containers.forEach(container => container.remove());\n        }\n\n        let tabId = scope.tabId;\n        \n        removeAllContainers();\n\n\n\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 330,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "007efe3b15bbd065",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "group": "",
        "name": "css toolbar online/offline",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n.toolbar {\nposition: relative;\nheight: 50px; \n}\n\n#headerStatus {\nposition: absolute;\nright: 0;\ntop: 50%;\ntransform: translateY(-130%);\nmargin-right: 30px;\n}\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 310,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "1907663ac295973c",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Login_form\",\"Login_SignIn\"],\"show\":[\"Login_LogOut\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 180,
        "wires": [
            [
                "597cd7c8030e86fa"
            ]
        ]
    },
    {
        "id": "597cd7c8030e86fa",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "disparitie login",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 1145,
        "y": 180,
        "wires": []
    },
    {
        "id": "867705d184d27d97",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "group": "",
        "name": "Fundal Asti",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    body {\n        background-image: url('https://i.ibb.co/ZYs0hnT/Design-f-r-titlu.png');\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n        background-attachment: fixed;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 270,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "25189cac343b4f86",
        "type": "ui_button",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "group": "1953fca633441d6c",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Register",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 540,
        "y": 440,
        "wires": [
            [
                "bda1e6de04377ac9"
            ]
        ]
    },
    {
        "id": "44cc5c61a5ee50a2",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"hide\":[\"Login_LogOut\",\"Login_form\"],\"show\":[\"Login_SignIn\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 440,
        "wires": [
            [
                "81a7612cf5e64f80"
            ]
        ]
    },
    {
        "id": "81a7612cf5e64f80",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "disparitie login",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 985,
        "y": 440,
        "wires": []
    },
    {
        "id": "8afde77105b829d0",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "function 15",
        "func": "global.set(\"register\", 0);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 260,
        "wires": [
            [
                "950cedd2ce816442"
            ]
        ]
    },
    {
        "id": "66ec280695f56a08",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "reverificare logare pt afisare",
        "func": "var nume = global.get(\"Account_logged\");\n\nif(msg.payload == nume) {\n    msg.payload = \"ok\";\n} else {\n    msg.payload = \"not\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 580,
        "wires": [
            [
                "314c7e667d3144fd"
            ]
        ]
    },
    {
        "id": "314c7e667d3144fd",
        "type": "switch",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ok",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 910,
        "y": 580,
        "wires": [
            [
                "257a5095481f8106"
            ]
        ]
    },
    {
        "id": "bda1e6de04377ac9",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "function 17",
        "func": "global.set(\"register\", 1);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 440,
        "wires": [
            [
                "44cc5c61a5ee50a2"
            ]
        ]
    },
    {
        "id": "fad0a931d76813df",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "verificare logare",
        "func": "var valoare = global.get(\"logat\");\nvar register = global.get(\"register\");\nvar nume = global.get(\"Account_logged\");\n\nif (valoare == 1) {\n    msg.payload = nume;\n\n} else {\n    msg.payload = \"No user\";\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 660,
        "wires": [
            [
                "cdcd7cedaa6c2e57",
                "65f4b09946c30545",
                "977abe417233596d",
                "f9da4ebe7edce9dd",
                "2bc3728aca041204",
                "45428053cfeb7764"
            ]
        ]
    },
    {
        "id": "d827a1e7d4078c9a",
        "type": "inject",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 290,
        "y": 660,
        "wires": [
            [
                "fad0a931d76813df"
            ]
        ]
    },
    {
        "id": "cf700ab64b0590b2",
        "type": "ui_ui_control",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "events": "all",
        "x": 520,
        "y": 480,
        "wires": [
            [
                "103c1a30396160a3"
            ]
        ]
    },
    {
        "id": "103c1a30396160a3",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "verificare logare",
        "func": "if (msg.payload == \"connect\") {\n    msg.payload = 1;\n} else {\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 480,
        "wires": [
            [
                "bc1c2dcb87d6c02e"
            ]
        ]
    },
    {
        "id": "bc1c2dcb87d6c02e",
        "type": "switch",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 830,
        "y": 480,
        "wires": [
            [
                "e025620aa2c9bb49"
            ]
        ]
    },
    {
        "id": "e025620aa2c9bb49",
        "type": "change",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"show\":[\"Login_LogOut\"],\"hide\":[\"Login_form\",\"Login_SignIn\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 480,
        "wires": [
            [
                "efe58d438f5285d9"
            ]
        ]
    },
    {
        "id": "efe58d438f5285d9",
        "type": "link out",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "disparitie login",
        "mode": "link",
        "links": [
            "b85ffb31b2806248"
        ],
        "x": 1095,
        "y": 480,
        "wires": []
    },
    {
        "id": "45428053cfeb7764",
        "type": "ui_template",
        "z": "7f0d891124837be9",
        "g": "66bee6a70ba8456d",
        "group": "e80a97623b98a46b",
        "name": "Istoric Tab",
        "order": 6,
        "width": 0,
        "height": 0,
        "format": "<script>\n    (function(scope) {\n        scope.$watch('msg', function(data) {\n            var elem = document.getElementById(\"headerStatus\")\n            if(elem !== null) {\n                elem.className = data.payload;\n                elem.innerHTML = data.payload;\n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 890,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "85785a41366fa57f",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "f312eb0c01997639",
        "name": "function 19",
        "func": "global.set(\"register\", 0);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "d7aaf30331c1aed2",
        "type": "ui_button",
        "z": "7f0d891124837be9",
        "g": "0b1bc2c0407b45f4",
        "name": "",
        "group": "8b4b273e146c1f63",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Deconectare",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 180,
        "wires": [
            [
                "54723a73ecc3fb1b",
                "5dd0273dfcac1efe"
            ]
        ]
    },
    {
        "id": "55c2f0732a37e83a",
        "type": "inject",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "Check Time Every 10 Seconds",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 350,
        "y": 360,
        "wires": [
            [
                "46471fa3b45a40a7"
            ]
        ]
    },
    {
        "id": "46471fa3b45a40a7",
        "type": "function",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "Check Log In Time",
        "func": "const logInTimeString = global.get(\"log_in_time\");\nconst actualDate = global.get(\"DATE\");\nif (logInTimeString) {\n    try {\n        var logInTime = new Date(logInTimeString);\n        var currentDate = new Date(actualDate);\n\n        if (isNaN(logInTime.getTime())) {\n            return { payload: \"invalid_date\" };\n        }\n\n        var diffInMilliseconds = currentDate.getTime() - logInTime.getTime(); // Explicitly get time in milliseconds\n\n        if (diffInMilliseconds > 3600000) { // 1h --> 60 min --> 360sec --> atatea milisecunde\n            return { payload: \"log_out\" };\n        } else {\n            return { payload: \"stay_in\" };\n        }\n    } catch (error) {\n        return { payload: \"error\", error: error.message };\n    }\n} else {\n    return { payload: \"no_log_in_time\" };\n}\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 400,
        "wires": [
            [
                "e0dee88c94aff1c0",
                "18c5618ea4917dfe"
            ]
        ]
    },
    {
        "id": "e0dee88c94aff1c0",
        "type": "switch",
        "z": "7f0d891124837be9",
        "g": "99aa4c086849736b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "log_out",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 630,
        "y": 400,
        "wires": [
            [
                "54723a73ecc3fb1b",
                "5dd0273dfcac1efe"
            ],
            []
        ]
    },
    {
        "id": "18c5618ea4917dfe",
        "type": "debug",
        "z": "7f0d891124837be9",
        "d": true,
        "name": "debug log out timp",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1370,
        "y": 400,
        "wires": []
    },
    {
        "id": "2cb376f924c04f13",
        "type": "ui_text_input",
        "z": "add6e96a04eba584",
        "name": "",
        "label": "Cauta dupa cod",
        "tooltip": "",
        "group": "09fb30b629e51b73",
        "order": 4,
        "width": 7,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": "0",
        "topic": "searchTerm",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 120,
        "y": 160,
        "wires": [
            [
                "ad1fcc6a2ec48c19"
            ]
        ]
    },
    {
        "id": "4d8390b39ab2cdce",
        "type": "ui_button",
        "z": "add6e96a04eba584",
        "name": "",
        "group": "09fb30b629e51b73",
        "order": 5,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "#208f32",
        "className": "",
        "icon": "fa-search",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 90,
        "y": 200,
        "wires": [
            [
                "27ba24804f05d3c8"
            ]
        ]
    },
    {
        "id": "ad1fcc6a2ec48c19",
        "type": "function",
        "z": "add6e96a04eba584",
        "name": "Handle Search",
        "func": "msg.topic = \"SELECT * FROM RawMaterials WHERE cod_identificare LIKE $val1\";\nmsg.payload = ['%' + msg.payload + '%'];\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 160,
        "wires": [
            [
                "203133ef63263451",
                "27ba24804f05d3c8"
            ]
        ]
    },
    {
        "id": "203133ef63263451",
        "type": "sqlite",
        "z": "add6e96a04eba584",
        "mydb": "b3f582b6574ca011",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "RawMaterials",
        "x": 740,
        "y": 160,
        "wires": [
            [
                "5613738c5446c7b8"
            ]
        ]
    },
    {
        "id": "5613738c5446c7b8",
        "type": "link out",
        "z": "add6e96a04eba584",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "54fa715f0d3707aa"
        ],
        "x": 905,
        "y": 160,
        "wires": []
    },
    {
        "id": "27ba24804f05d3c8",
        "type": "change",
        "z": "add6e96a04eba584",
        "name": "Reset Text Input",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "7b282fe078e2fb8d",
        "type": "ui_template",
        "z": "add6e96a04eba584",
        "group": "",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "    <style>\n        .span {\n            display: inline-block;\n            /* Necesită pentru ca dimensiunile să fie respectate */\n            width: 200px;\n            height: 200px;\n        }\n    </style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 100,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "b95b2377ced5f624",
        "type": "ui_text_input",
        "z": "5e7fb4957445ae23",
        "name": "",
        "label": "Search",
        "tooltip": "",
        "group": "e80a97623b98a46b",
        "order": 2,
        "width": 11,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": "0",
        "topic": "searchTerm",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 200,
        "y": 140,
        "wires": [
            [
                "a809bd1fe7be1da7"
            ]
        ]
    },
    {
        "id": "42336b80f8abdea9",
        "type": "ui_button",
        "z": "5e7fb4957445ae23",
        "name": "",
        "group": "e80a97623b98a46b",
        "order": 3,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-search",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "4a07b87ca7cd2722"
            ]
        ]
    },
    {
        "id": "a809bd1fe7be1da7",
        "type": "function",
        "z": "5e7fb4957445ae23",
        "name": "Handle Search",
        "func": "global.set(\"search_H\", msg.payload);\nmsg.topic = \"SELECT * FROM Istoric WHERE produsul_cod_identificare LIKE $val1\"\nmsg.payload = ['%' + msg.payload + '%']\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 140,
        "wires": [
            [
                "a21468a33d5f479e"
            ]
        ]
    },
    {
        "id": "a21468a33d5f479e",
        "type": "sqlite",
        "z": "5e7fb4957445ae23",
        "mydb": "f863fddcd6e15980",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Istoric",
        "x": 810,
        "y": 140,
        "wires": [
            [
                "0f374c231fb1a0b3"
            ]
        ]
    },
    {
        "id": "0f374c231fb1a0b3",
        "type": "link out",
        "z": "5e7fb4957445ae23",
        "name": "link out 14",
        "mode": "link",
        "links": [
            "70f0881b382bf288"
        ],
        "x": 1005,
        "y": 140,
        "wires": []
    },
    {
        "id": "4a07b87ca7cd2722",
        "type": "function",
        "z": "5e7fb4957445ae23",
        "name": "Handle Search",
        "func": "var h = global.get(\"search_H\");\nmsg.topic = \"SELECT * FROM Istoric WHERE produsul_cod_identificare LIKE $val1\"\nmsg.payload = ['%' + h + '%']\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 180,
        "wires": [
            [
                "a21468a33d5f479e"
            ]
        ]
    },
    {
        "id": "062e8ec5844acd9d",
        "type": "ui_text_input",
        "z": "a2dc2a2e2614df14",
        "name": "",
        "label": "Search",
        "tooltip": "",
        "group": "771f8c2f253ea5e4",
        "order": 5,
        "width": 11,
        "height": 1,
        "passthru": false,
        "mode": "text",
        "delay": "0",
        "topic": "searchTerm",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 280,
        "y": 80,
        "wires": [
            [
                "e8a617339d7b7c1a"
            ]
        ]
    },
    {
        "id": "bd0f4a9155f2357a",
        "type": "ui_button",
        "z": "a2dc2a2e2614df14",
        "name": "",
        "group": "771f8c2f253ea5e4",
        "order": 6,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-search",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 270,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "e8a617339d7b7c1a",
        "type": "function",
        "z": "a2dc2a2e2614df14",
        "name": "Handle Search",
        "func": "if(msg.payload) {\n    global.set(\"echipament2\", msg.payload);\n    var tip_cautare = flow.get(\"tip\");\n    if (tip_cautare == \"cod\") {\n        msg.topic = \"SELECT * FROM Echipamente WHERE cod_identificare LIKE $val1\"\n        msg.payload = ['%' + msg.payload + '%']\n    }\n    if (tip_cautare == \"nume\") {\n        msg.topic = \"SELECT * FROM Echipamente WHERE nume LIKE $val1\"\n        msg.payload = ['%' + msg.payload + '%']\n    }\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 80,
        "wires": [
            [
                "acda06626bdc0c22",
                "7c0d071718a6a4e3"
            ]
        ]
    },
    {
        "id": "9e670860c47652a6",
        "type": "ui_dropdown",
        "z": "a2dc2a2e2614df14",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "771f8c2f253ea5e4",
        "order": 4,
        "width": 4,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Cauta dupa nume",
                "value": "nume",
                "type": "str"
            },
            {
                "label": "Cauta dupa cod",
                "value": "cod",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 280,
        "y": 160,
        "wires": [
            [
                "5ca099c3b2cdc421"
            ]
        ]
    },
    {
        "id": "5ca099c3b2cdc421",
        "type": "change",
        "z": "a2dc2a2e2614df14",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "tip",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "acda06626bdc0c22",
        "type": "sqlite",
        "z": "a2dc2a2e2614df14",
        "mydb": "6c8a39079ebb2521",
        "sqlquery": "msg.topic",
        "sql": "SELECT * FROM Piese_depozit;",
        "name": "Echipamente",
        "x": 910,
        "y": 80,
        "wires": [
            [
                "aeda6ac773146ff1"
            ]
        ]
    },
    {
        "id": "aeda6ac773146ff1",
        "type": "link out",
        "z": "a2dc2a2e2614df14",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "16a23dc3cd101482"
        ],
        "x": 1085,
        "y": 80,
        "wires": []
    },
    {
        "id": "126a4931f8ba9bfc",
        "type": "link in",
        "z": "a2dc2a2e2614df14",
        "name": "reimprospatare search",
        "links": [
            "126ce7bed842e43d"
        ],
        "x": 425,
        "y": 40,
        "wires": [
            [
                "15685d25b4eff86a"
            ]
        ]
    },
    {
        "id": "15685d25b4eff86a",
        "type": "function",
        "z": "a2dc2a2e2614df14",
        "name": "sad",
        "func": "msg.payload = global.get(\"echipament2\");\nvar tip_cautare = flow.get(\"tip\");\nif (tip_cautare == \"cod\") {\n    msg.topic = \"SELECT * FROM Echipamente WHERE cod_identificare LIKE $val1\"\n    msg.payload = ['%' + msg.payload + '%']\n}\nif (tip_cautare == \"nume\") {\n    msg.topic = \"SELECT * FROM Echipamente WHERE nume LIKE $val1\"\n    msg.payload = ['%' + msg.payload + '%']\n}\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 40,
        "wires": [
            [
                "acda06626bdc0c22"
            ]
        ]
    },
    {
        "id": "7c0d071718a6a4e3",
        "type": "delay",
        "z": "a2dc2a2e2614df14",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 870,
        "y": 40,
        "wires": [
            [
                "ef5e35528cd7c06e"
            ]
        ]
    },
    {
        "id": "ef5e35528cd7c06e",
        "type": "change",
        "z": "a2dc2a2e2614df14",
        "name": "Reset Text Input",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 40,
        "wires": [
            [
                "062e8ec5844acd9d"
            ]
        ]
    }
]